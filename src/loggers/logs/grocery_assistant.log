[2025-04-28 14:18:27,692: INFO] Logger initialized
[2025-04-28 14:18:27,692: ERROR] Error
[2025-04-28 14:18:27,692: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 14:18:27,692: WARNING] Warning
[2025-04-28 14:18:27,692: CRITICAL] Critical
[2025-04-28 14:18:34,847: INFO] Users table verified.
[2025-04-28 14:18:34,855: INFO] stockimages table schema created successfully.
[2025-04-28 14:18:34,862: INFO] stock table schema created successfully.
[2025-04-28 14:18:34,869: INFO] all_stock table schema created successfully.
[2025-04-28 14:18:34,869: INFO] Stock database schema initialized.
[2025-04-28 14:18:34,876: INFO] Users table verified.
[2025-04-28 14:18:34,883: INFO] Database schema created successfully.
[2025-04-28 14:18:34,890: INFO] Image database schema created successfully.
[2025-04-28 14:18:34,896: INFO] Database schema created successfully.
[2025-04-28 14:18:37,721: INFO] GroceryAnalyzer initialized
[2025-04-28 14:24:44 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:24:44 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:24:44 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:24:44 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:24:44 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:24:44 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:24:44 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:24:44 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:24:44 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:24:49 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:25:43 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:25:43 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:25:43 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:25:43 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:25:43 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:25:43 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:25:43 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:25:43 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:25:43 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:25:46 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:26:09 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:26:09 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:26:09 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:26:09 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:26:09 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:26:09 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:26:09 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:26:09 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:26:09 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:26:12 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:26:49 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:26:49 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:26:49 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:26:49 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:26:49 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:26:49 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:26:49 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:26:49 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:26:49 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:26:51 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:27:06 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:27:06 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:27:06 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:27:06 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:27:06 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:27:06 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:27:06 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:27:06 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:27:06 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:27:08 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:27:22 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:27:22 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:27:22 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:27:22 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:27:22 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:27:22 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:27:22 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:27:22 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:27:22 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:27:24 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:27:55 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:27:55 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 815, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:27:56 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:02 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:02 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:04 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:05 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:28:05 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:28:05 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:28:05 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:28:05 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:07 - grocery_assistant - INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 14:28:07 - grocery_assistant - INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:28:07 - grocery_assistant - DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:28:08 - grocery_assistant - INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:28:08 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:28:09 - grocery_assistant - DEBUG] Entering /chat route
[2025-04-28 14:28:09 - grocery_assistant - DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 14:28:09 - grocery_assistant - DEBUG] Chat history: 0 messages
[2025-04-28 14:28:09 - grocery_assistant - DEBUG] Handling GET request
[2025-04-28 14:28:09 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:29:51 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:29:52 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:29:53 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:29:53 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 815, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:29:53 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:29:56 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:29:57 - grocery_assistant - INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 14:29:57 - grocery_assistant - INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:29:57 - grocery_assistant - DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:29:57 - grocery_assistant - INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:29:57 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:30:02 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:30:03 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:30:31 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:30:31 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 815, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:30:32 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:21 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:22 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:24 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:30 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:30 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:32 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:54 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:37:54 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:37:54 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:37:54 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:37:55 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:37:58 - grocery_assistant - INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 14:37:58 - grocery_assistant - INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:37:58 - grocery_assistant - DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:37:58 - grocery_assistant - INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:37:58 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:38:02 - grocery_assistant - DEBUG] Entering /chat route
[2025-04-28 14:38:02 - grocery_assistant - DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 14:38:02 - grocery_assistant - DEBUG] Chat history: 0 messages
[2025-04-28 14:38:02 - grocery_assistant - DEBUG] Handling GET request
[2025-04-28 14:38:02 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:38:09 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:38:09 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 815, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:38:09 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:34 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:35 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:39 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:45 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:40:45 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:40:45 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:40:45 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:40:45 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:51 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:51 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:40:53 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:41:09 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:41:10 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:41:12 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:49:06 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:49:06 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:49:06 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:49:06 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:49:08 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:49:09 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:49:09 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:49:09 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:49:09 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:49:09 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:49:09 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:49:09 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:49:10 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:49:15 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:49:15 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 809, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:49:15 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:52:26 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:52:26 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:52:26 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:52:26 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:52:28 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:52:29 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:29 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:32 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:35 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:35 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:37 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:43 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:52:43 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:52:43 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:52:43 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:52:43 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:45 - grocery_assistant - DEBUG] Entering /receipts, session: {'_flashes': [('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}
[2025-04-28 14:52:45 - grocery_assistant - DEBUG] Receipt ID: 51
[2025-04-28 14:52:45 - grocery_assistant - DEBUG] Fetched items: 2, filename: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 14:52:45 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:52:45 - grocery_assistant - DEBUG] Fetched user: {'id': 6, 'email': 'cyrileze123@gmail.com', 'password': 'scrypt:32768:8:1$nKedBb2A1MhVq9ML$b01e71e3a9efb351b9abdacb70863ca3fd29677cca926b0b300b58d95d7a7557866f2361133a2463f1d4d586e1fd6d605bfb9c50fef4dffe7605df4a1dccfd9d', 'created_at': datetime.datetime(2025, 4, 26, 2, 55, 33), 'username': 'cyril', 'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'updated_at': datetime.datetime(2025, 4, 26, 2, 55, 33), 'extra_info': 'diabetes,bllod group type O-'}
[2025-04-28 14:52:45 - grocery_assistant - DEBUG] Rendering receipt.html
[2025-04-28 14:52:45 - grocery_assistant - ERROR] Critical error in /receipts: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 834, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:52:45 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 834, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 847, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:52:45 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:52:56 - grocery_assistant - DEBUG] Entering /chat route
[2025-04-28 14:52:56 - grocery_assistant - DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', "Error in receipts route: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?"), ('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 14:52:56 - grocery_assistant - DEBUG] Chat history: 0 messages
[2025-04-28 14:52:56 - grocery_assistant - DEBUG] Handling GET request
[2025-04-28 14:52:56 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:53:37 - grocery_assistant - INFO] stockimages table schema created successfully.
[2025-04-28 14:53:37 - grocery_assistant - INFO] stock table schema created successfully.
[2025-04-28 14:53:37 - grocery_assistant - INFO] all_stock table schema created successfully.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Stock database schema initialized.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Users table verified.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Image database schema created successfully.
[2025-04-28 14:53:37 - grocery_assistant - INFO] Database schema created successfully.
[2025-04-28 14:53:40 - grocery_assistant - INFO] GroceryAnalyzer initialized
[2025-04-28 14:53:40 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:53:41 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:53:43 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:53:43 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 809, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt_page') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt_page'. Did you mean 'delete_receipt' instead?
[2025-04-28 14:53:44 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:53:47 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:53:50 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:53:50 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:56:54 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:56:55 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 14:56:55 - grocery_assistant - INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 14:56:55 - grocery_assistant - INFO] User logged in successfully
[2025-04-28 14:56:55 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:56:56 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:56:57 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:56:57 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 809, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
[2025-04-28 14:56:57 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:02 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:16 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:57:16 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 809, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
[2025-04-28 14:57:16 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:19 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:20 - grocery_assistant - INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 14:57:20 - grocery_assistant - INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:20 - grocery_assistant - DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:20 - grocery_assistant - INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:20 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:22 - grocery_assistant - DEBUG] Entering /chat route
[2025-04-28 14:57:22 - grocery_assistant - DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 14:57:22 - grocery_assistant - DEBUG] Chat history: 0 messages
[2025-04-28 14:57:22 - grocery_assistant - DEBUG] Handling GET request
[2025-04-28 14:57:22 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:23 - grocery_assistant - INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 14:57:23 - grocery_assistant - INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:23 - grocery_assistant - DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:23 - grocery_assistant - INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 14:57:24 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 14:57:24 - grocery_assistant - INFO] User with ID '6' fetched successfully.
[2025-04-28 14:57:24 - grocery_assistant - ERROR] Unhandled error: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 809, in index
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 1, in top-level template code
    {% extends "base.html" %}
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/base.html", line 77, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/templates/receipt.html", line 31, in block 'content'
    <form method="POST" action="{{ url_for('delete_receipt') }}"
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1121, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1110, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'delete_receipt'. Did you forget to specify values ['receipt_id']?
[2025-04-28 14:57:25 - grocery_assistant - ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:02:00,404: INFO] Logger initialized
[2025-04-28 15:02:00,404: ERROR] Error
[2025-04-28 15:02:00,405: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:02:00,405: WARNING] Warning
[2025-04-28 15:02:00,405: CRITICAL] Critical
[2025-04-28 15:02:08,064: INFO] Users table verified.
[2025-04-28 15:02:08,072: INFO] stockimages table schema created successfully.
[2025-04-28 15:02:08,078: INFO] stock table schema created successfully.
[2025-04-28 15:02:08,085: INFO] all_stock table schema created successfully.
[2025-04-28 15:02:08,085: INFO] Stock database schema initialized.
[2025-04-28 15:02:08,091: INFO] Users table verified.
[2025-04-28 15:02:08,098: INFO] Database schema created successfully.
[2025-04-28 15:02:08,104: INFO] Image database schema created successfully.
[2025-04-28 15:02:08,111: INFO] Database schema created successfully.
[2025-04-28 15:02:10,897: INFO] GroceryAnalyzer initialized
[2025-04-28 15:02:55,447: INFO] Logger initialized
[2025-04-28 15:02:55,448: ERROR] Error
[2025-04-28 15:02:55,448: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:02:55,448: WARNING] Warning
[2025-04-28 15:02:55,448: CRITICAL] Critical
[2025-04-28 15:03:02,297: INFO] Users table verified.
[2025-04-28 15:03:02,305: INFO] stockimages table schema created successfully.
[2025-04-28 15:03:02,312: INFO] stock table schema created successfully.
[2025-04-28 15:03:02,318: INFO] all_stock table schema created successfully.
[2025-04-28 15:03:02,318: INFO] Stock database schema initialized.
[2025-04-28 15:03:02,325: INFO] Users table verified.
[2025-04-28 15:03:02,332: INFO] Database schema created successfully.
[2025-04-28 15:03:02,337: INFO] Image database schema created successfully.
[2025-04-28 15:03:02,344: INFO] Database schema created successfully.
[2025-04-28 15:03:05,279: INFO] GroceryAnalyzer initialized
[2025-04-28 15:03:16,939: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:17,638: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:19,350: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:22,336: INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 15:03:22,344: INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 15:03:22,344: INFO] User logged in successfully
[2025-04-28 15:03:22,387: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:03:22,696: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:24,319: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:03:24,375: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:03:24,560: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:32,647: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:03:32,923: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:03:42,833: ERROR] Unhandled error: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 229, in csrf_protect
    self.protect()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 264, in protect
    self._error_response(e.args[0])
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
[2025-04-28 15:03:43,035: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:38,265: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:05:38,679: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:42,788: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:05:42,796: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:42,797: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:42,841: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:43,064: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:44,340: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:05:44,375: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:05:44,560: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:45,313: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:05:45,620: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:46,252: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:05:46,265: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:46,265: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:46,308: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:46,570: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:51,145: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:05:51,406: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:54,648: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:05:54,656: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:54,656: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:54,693: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:05:54,933: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:56,283: DEBUG] Entering /chat route
[2025-04-28 15:05:56,283: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:05:56,284: DEBUG] Chat history: 0 messages
[2025-04-28 15:05:56,284: DEBUG] Handling GET request
[2025-04-28 15:05:56,522: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:05:59,080: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:05:59,362: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:01,249: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:06:01,284: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:06:01,472: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:02,921: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:06:02,928: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:06:02,929: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:06:02,973: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:06:03,185: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:04,212: DEBUG] Entering /chat route
[2025-04-28 15:06:04,212: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:06:04,213: DEBUG] Chat history: 0 messages
[2025-04-28 15:06:04,215: DEBUG] Handling GET request
[2025-04-28 15:06:04,515: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:08,470: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:08,636: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:13,906: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:06:18,934: INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 15:06:18,941: INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 15:06:18,941: INFO] User logged in successfully
[2025-04-28 15:06:19,001: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:06:19,270: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:11:14,588: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:11:14,648: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:11:15,318: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:11:33,804: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:11:33,813: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:11:33,813: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:11:33,855: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:11:34,196: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:11:38,201: DEBUG] Entering /chat route
[2025-04-28 15:11:38,202: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:11:38,202: DEBUG] Chat history: 0 messages
[2025-04-28 15:11:38,203: DEBUG] Handling GET request
[2025-04-28 15:11:38,479: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:11:41,186: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:11:41,464: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:11:44,476: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:11:44,507: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:11:44,691: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:17:23,478: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:17:23,487: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:17:23,488: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:17:23,532: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:17:24,267: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:17:26,720: DEBUG] Entering /chat route
[2025-04-28 15:17:26,721: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:17:26,722: DEBUG] Chat history: 0 messages
[2025-04-28 15:17:26,722: DEBUG] Handling GET request
[2025-04-28 15:17:26,956: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:17:30,471: DEBUG] Entering /chat route
[2025-04-28 15:17:30,471: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:17:30,472: DEBUG] Chat history: 0 messages
[2025-04-28 15:17:30,472: DEBUG] Handling POST request
[2025-04-28 15:17:30,472: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:17:30,472: DEBUG] Appending user message
[2025-04-28 15:17:30,473: DEBUG] User message stored
[2025-04-28 15:17:30,473: DEBUG] Processing AI response for user 6
[2025-04-28 15:17:30,473: DEBUG] Fetching knowledge base
[2025-04-28 15:17:30,473: DEBUG] Building knowledge base for user 6
[2025-04-28 15:17:30,473: DEBUG] Initialized cache for user 6
[2025-04-28 15:17:30,473: DEBUG] Fetching stock for user 6
[2025-04-28 15:17:30,483: INFO] Fetched 58 items for user 6.
[2025-04-28 15:17:30,484: DEBUG] Raw stock items: [{'id': 220, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 221, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 222, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 223, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 224, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'bakery', 'shelf_life': 3}, {'id': 225, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 226, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 227, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 7}, {'id': 228, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'deli', 'shelf_life': 1}, {'id': 229, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 230, 'name': 'Yogurt', 'quantity': 2, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 231, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'condiment', 'shelf_life': 30}, {'id': 232, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 21}, {'id': 233, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 234, 'name': 'Oranges', 'quantity': 10, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 235, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 236, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 237, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 14}, {'id': 238, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'dry goods', 'shelf_life': 365}, {'id': 239, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 240, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 241, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 242, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 243, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 244, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'Bakery', 'shelf_life': 3}, {'id': 245, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 246, 'name': 'Sandwiches', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 247, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 248, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 249, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 250, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 30}, {'id': 251, 'name': 'Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 252, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 253, 'name': 'Apples', 'quantity': 6, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 254, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 255, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 256, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 257, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 258, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 259, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 260, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 261, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 262, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 263, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 264, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 265, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 266, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 267, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 268, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 269, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 90}, {'id': 270, 'name': 'Naked Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Juice', 'shelf_life': 7}, {'id': 271, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 272, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 273, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 274, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 275, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 276, 'name': 'String Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 277, 'name': 'Burrito', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}]
[2025-04-28 15:17:30,484: DEBUG] Fetching receipts for user 6
[2025-04-28 15:17:30,492: DEBUG] Raw receipt items: [{'id': 291, 'name': 'NFS Grocery', 'quantity': 1, 'weight': 1.0, 'category': 'Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}, {'id': 292, 'name': 'Produce', 'quantity': 1, 'weight': 1.0, 'category': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}]
[2025-04-28 15:17:30,493: DEBUG] Fetching user info for user 6
[2025-04-28 15:17:30,500: DEBUG] Raw user info: [{'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'extra_info': 'diabetes,bllod group type O-'}]
[2025-04-28 15:17:30,500: DEBUG] Updating FAISS index for user 6
[2025-04-28 15:17:30,500: DEBUG] Encoding knowledge items
[2025-04-28 15:17:31,018: DEBUG] Encoded 61 embeddings
[2025-04-28 15:17:31,018: DEBUG] Updated FAISS index with 61 items
[2025-04-28 15:17:31,019: DEBUG] Retrieving context
[2025-04-28 15:17:31,019: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:17:31,036: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:17:31,036: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:17:31,036: DEBUG] Generating AI response
[2025-04-28 15:17:31,036: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:17:31,037: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:17:40,257: DEBUG] LLM response: {'id': '65c3a78e-eec0-4cc4-b8aa-410ce13133fa', 'object': 'chat.completion', 'created': 1745867851, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here are your options based on your current stock:  \n\n- 🥧 **Chicken Pot Pie (x3)**: You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!  \n\n📝 **Tips**:  \n- Check labels for cooking instructions (oven/microwave times may vary).  \n- Pair with a simple side salad or steamed veggies if you want extra greens.  \n\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 288, 'completion_tokens': 127, 'total_tokens': 415, 'prompt_tokens_details': {'cached_tokens': 256}, 'prompt_cache_hit_tokens': 256, 'prompt_cache_miss_tokens': 32}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:17:40,260: DEBUG] Processing LLM response: {'id': '65c3a78e-eec0-4cc4-b8aa-410ce13133fa', 'object': 'chat.completion', 'created': 1745867851, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here are your options based on your current stock:  \n\n- 🥧 **Chicken Pot Pie (x3)**: You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!  \n\n📝 **Tips**:  \n- Check labels for cooking instructions (oven/microwave times may vary).  \n- Pair with a simple side salad or steamed veggies if you want extra greens.  \n\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 288, 'completion_tokens': 127, 'total_tokens': 415, 'prompt_tokens_details': {'cached_tokens': 256}, 'prompt_cache_hit_tokens': 256, 'prompt_cache_miss_tokens': 32}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:17:40,386: DEBUG] AI response: Here are your options based on your current stock:
- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!
📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.
Since no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊
[2025-04-28 15:17:40,387: DEBUG] AI message stored
[2025-04-28 15:17:40,387: DEBUG] Rendering HTMX response
[2025-04-28 15:19:05,259: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:19:05,310: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:19:05,631: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:19:07,900: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:19:07,907: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:07,907: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:07,943: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:08,156: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:19:18,230: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:19:18,239: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:18,239: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:18,280: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:19:18,588: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:19:19,712: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:19:19,752: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:19:19,932: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:19:49,996: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:19:50,486: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:19:59,917: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:20:00,191: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:20:00,328: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:20:01,207: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:20:01,217: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:20:01,217: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:20:01,251: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:20:01,468: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:20:03,449: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:20:03,483: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:20:03,674: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:20:04,368: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:20:04,888: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:20:09,988: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:20:10,025: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:20:10,212: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:20:10,863: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:20:11,433: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:21:18,053: DEBUG] Entering /chat route
[2025-04-28 15:21:18,053: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:21:18,054: DEBUG] Chat history: 2 messages
[2025-04-28 15:21:18,054: DEBUG] Handling GET request
[2025-04-28 15:21:18,549: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:21:22,930: DEBUG] Entering /chat route
[2025-04-28 15:21:22,930: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:21:22,930: DEBUG] Chat history: 2 messages
[2025-04-28 15:21:22,930: DEBUG] Handling POST request
[2025-04-28 15:21:22,931: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:21:22,931: DEBUG] Appending user message
[2025-04-28 15:21:22,931: DEBUG] User message stored
[2025-04-28 15:21:22,931: DEBUG] Processing AI response for user 6
[2025-04-28 15:21:22,931: DEBUG] Fetching knowledge base
[2025-04-28 15:21:22,931: DEBUG] Retrieving context
[2025-04-28 15:21:22,931: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:21:22,948: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:21:22,948: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:21:22,948: DEBUG] Generating AI response
[2025-04-28 15:21:22,948: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:21:22,948: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:21:34,640: DEBUG] LLM response: {'id': '74fb85c0-f278-4203-b189-c1072e51f99d', 'object': 'chat.completion', 'created': 1745868084, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here’s what you can cook today based on your current stock:  \n\n- 🥧 **Chicken Pot Pie (x3)**: You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.  \n\n📝 *Tip*:  \n- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).  \n- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.  \n\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 288, 'completion_tokens': 168, 'total_tokens': 456, 'prompt_tokens_details': {'cached_tokens': 256}, 'prompt_cache_hit_tokens': 256, 'prompt_cache_miss_tokens': 32}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:21:34,644: DEBUG] Processing LLM response: {'id': '74fb85c0-f278-4203-b189-c1072e51f99d', 'object': 'chat.completion', 'created': 1745868084, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here’s what you can cook today based on your current stock:  \n\n- 🥧 **Chicken Pot Pie (x3)**: You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.  \n\n📝 *Tip*:  \n- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).  \n- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.  \n\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 288, 'completion_tokens': 168, 'total_tokens': 456, 'prompt_tokens_details': {'cached_tokens': 256}, 'prompt_cache_hit_tokens': 256, 'prompt_cache_miss_tokens': 32}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:21:34,647: DEBUG] AI response: Here’s what you can cook today based on your current stock:
- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.
📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.
😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.
[2025-04-28 15:21:34,647: DEBUG] AI message stored
[2025-04-28 15:21:34,648: DEBUG] Rendering HTMX response
[2025-04-28 15:22:59,306: INFO] Logger initialized
[2025-04-28 15:22:59,306: ERROR] Error
[2025-04-28 15:22:59,306: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:22:59,306: WARNING] Warning
[2025-04-28 15:22:59,306: CRITICAL] Critical
[2025-04-28 15:23:05,857: INFO] Users table verified.
[2025-04-28 15:23:05,867: INFO] stockimages table schema created successfully.
[2025-04-28 15:23:05,876: INFO] stock table schema created successfully.
[2025-04-28 15:23:05,883: INFO] all_stock table schema created successfully.
[2025-04-28 15:23:05,883: INFO] Stock database schema initialized.
[2025-04-28 15:23:05,894: INFO] Users table verified.
[2025-04-28 15:23:05,903: INFO] Database schema created successfully.
[2025-04-28 15:23:05,910: INFO] Image database schema created successfully.
[2025-04-28 15:23:05,918: INFO] Database schema created successfully.
[2025-04-28 15:23:08,568: INFO] GroceryAnalyzer initialized
[2025-04-28 15:23:08,792: DEBUG] Entering /chat route
[2025-04-28 15:23:08,792: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:23:08,793: DEBUG] Chat history: 4 messages
[2025-04-28 15:23:08,793: DEBUG] Handling POST request
[2025-04-28 15:23:08,793: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:23:08,793: DEBUG] Appending user message
[2025-04-28 15:23:08,793: DEBUG] User message stored
[2025-04-28 15:23:08,793: DEBUG] Processing AI response for user 6
[2025-04-28 15:23:08,793: DEBUG] Fetching knowledge base
[2025-04-28 15:23:08,794: DEBUG] Building knowledge base for user 6
[2025-04-28 15:23:08,794: DEBUG] Initialized cache for user 6
[2025-04-28 15:23:08,794: DEBUG] Fetching stock for user 6
[2025-04-28 15:23:08,803: INFO] Fetched 58 items for user 6.
[2025-04-28 15:23:08,803: DEBUG] Raw stock items: [{'id': 220, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 221, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 222, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 223, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 224, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'bakery', 'shelf_life': 3}, {'id': 225, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 226, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 227, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 7}, {'id': 228, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'deli', 'shelf_life': 1}, {'id': 229, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 230, 'name': 'Yogurt', 'quantity': 2, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 231, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'condiment', 'shelf_life': 30}, {'id': 232, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 21}, {'id': 233, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 234, 'name': 'Oranges', 'quantity': 10, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 235, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 236, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 237, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 14}, {'id': 238, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'dry goods', 'shelf_life': 365}, {'id': 239, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 240, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 241, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 242, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 243, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 244, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'Bakery', 'shelf_life': 3}, {'id': 245, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 246, 'name': 'Sandwiches', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 247, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 248, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 249, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 250, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 30}, {'id': 251, 'name': 'Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 252, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 253, 'name': 'Apples', 'quantity': 6, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 254, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 255, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 256, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 257, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 258, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 259, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 260, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 261, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 262, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 263, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 264, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 265, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 266, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 267, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 268, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 269, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 90}, {'id': 270, 'name': 'Naked Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Juice', 'shelf_life': 7}, {'id': 271, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 272, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 273, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 274, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 275, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 276, 'name': 'String Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 277, 'name': 'Burrito', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}]
[2025-04-28 15:23:08,803: DEBUG] Fetching receipts for user 6
[2025-04-28 15:23:08,811: DEBUG] Raw receipt items: [{'id': 291, 'name': 'NFS Grocery', 'quantity': 1, 'weight': 1.0, 'category': 'Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}, {'id': 292, 'name': 'Produce', 'quantity': 1, 'weight': 1.0, 'category': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}]
[2025-04-28 15:23:08,811: DEBUG] Fetching user info for user 6
[2025-04-28 15:23:08,819: DEBUG] Raw user info: [{'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'extra_info': 'diabetes,bllod group type O-'}]
[2025-04-28 15:23:08,820: DEBUG] Updating FAISS index for user 6
[2025-04-28 15:23:08,820: DEBUG] Encoding knowledge items
[2025-04-28 15:23:09,311: DEBUG] Encoded 61 embeddings
[2025-04-28 15:23:09,311: DEBUG] Updated FAISS index with 61 items
[2025-04-28 15:23:09,311: DEBUG] Retrieving context
[2025-04-28 15:23:09,311: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:23:09,328: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Salsa, Quantity: 1, Category: condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Pasta, Quantity: 1, Category: dry goods']
[2025-04-28 15:23:09,328: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Salsa, Quantity: 1, Category: condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Pasta, Quantity: 1, Category: dry goods']
[2025-04-28 15:23:09,328: DEBUG] Generating AI response
[2025-04-28 15:23:09,328: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:23:09,328: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:23:22,899: DEBUG] LLM response: {'id': '99dbfe12-f30c-49df-9602-543f3b1d2f35', 'object': 'chat.completion', 'created': 1745868190, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "Here are some quick meal ideas based on your current stock! 🍽️  \n\n🥧 **Chicken Pot Pie Feast**  \n- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!  \n- Pair with a simple side salad if you have fresh greens, or enjoy as-is.  \n\n🍝 **Alfredo Pasta Combo**  \n- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.  \n- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.  \n\n🍲 **Pasta + Salsa Fusion**  \n- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!  \n\n📝 **Tips:**  \n- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.  \n- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!  \n\nLet me know if you'd like recipe tweaks or more ideas! 😊"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 549, 'completion_tokens': 240, 'total_tokens': 789, 'prompt_tokens_details': {'cached_tokens': 64}, 'prompt_cache_hit_tokens': 64, 'prompt_cache_miss_tokens': 485}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:23:22,902: DEBUG] Processing LLM response: {'id': '99dbfe12-f30c-49df-9602-543f3b1d2f35', 'object': 'chat.completion', 'created': 1745868190, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "Here are some quick meal ideas based on your current stock! 🍽️  \n\n🥧 **Chicken Pot Pie Feast**  \n- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!  \n- Pair with a simple side salad if you have fresh greens, or enjoy as-is.  \n\n🍝 **Alfredo Pasta Combo**  \n- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.  \n- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.  \n\n🍲 **Pasta + Salsa Fusion**  \n- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!  \n\n📝 **Tips:**  \n- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.  \n- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!  \n\nLet me know if you'd like recipe tweaks or more ideas! 😊"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 549, 'completion_tokens': 240, 'total_tokens': 789, 'prompt_tokens_details': {'cached_tokens': 64}, 'prompt_cache_hit_tokens': 64, 'prompt_cache_miss_tokens': 485}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:23:22,946: DEBUG] AI response: Here are some quick meal ideas based on your current stock! 🍽️
🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.
🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.
🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!
📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!

😊 Let me know if you'd like recipe tweaks or more ideas! 😊
[2025-04-28 15:23:22,946: DEBUG] AI message stored
[2025-04-28 15:23:22,946: DEBUG] Rendering HTMX response
[2025-04-28 15:23:58,905: DEBUG] Entering /chat route
[2025-04-28 15:23:58,906: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:23:58,906: DEBUG] Chat history: 6 messages
[2025-04-28 15:23:58,906: DEBUG] Handling POST request
[2025-04-28 15:23:58,907: DEBUG] User ID: 6, Query: how can i save money in my next grocery list
[2025-04-28 15:23:58,907: DEBUG] Appending user message
[2025-04-28 15:23:58,907: DEBUG] User message stored
[2025-04-28 15:23:58,907: DEBUG] Processing AI response for user 6
[2025-04-28 15:23:58,907: DEBUG] Fetching knowledge base
[2025-04-28 15:23:58,907: DEBUG] Retrieving context
[2025-04-28 15:23:58,907: DEBUG] Retrieving context for user 6, query: how can i save money in my next grocery list
[2025-04-28 15:23:58,935: DEBUG] Context: ['Receipt: NFS Grocery, Purchased: 2010-11-08', 'Stock: Apples, Quantity: 5, Category: fruit', 'Stock: Apples, Quantity: 5, Category: Fruit', 'Stock: Wraps, Quantity: 1, Category: Bakery', 'Stock: Wraps, Quantity: 1, Category: bakery', 'Stock: Burrito, Quantity: 1, Category: Frozen Meal', 'Stock: Coke, Quantity: 4, Category: Soda', 'Stock: Apples, Quantity: 6, Category: Fruit', 'Stock: Lasagna, Quantity: 1, Category: frozen entree', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:23:58,935: DEBUG] Context: ['Receipt: NFS Grocery, Purchased: 2010-11-08', 'Stock: Apples, Quantity: 5, Category: fruit', 'Stock: Apples, Quantity: 5, Category: Fruit', 'Stock: Wraps, Quantity: 1, Category: Bakery', 'Stock: Wraps, Quantity: 1, Category: bakery', 'Stock: Burrito, Quantity: 1, Category: Frozen Meal', 'Stock: Coke, Quantity: 4, Category: Soda', 'Stock: Apples, Quantity: 6, Category: Fruit', 'Stock: Lasagna, Quantity: 1, Category: frozen entree', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree']
[2025-04-28 15:23:58,935: DEBUG] Generating AI response
[2025-04-28 15:23:58,935: DEBUG] Generating response for user 6, query: how can i save money in my next grocery list
[2025-04-28 15:23:58,935: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:24:14,508: DEBUG] LLM response: {'id': '61e851ff-73a2-404f-b847-878b6743d87f', 'object': 'chat.completion', 'created': 1745868239, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:  \n\n- **Use what you have first** 🥧:  \n  - You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.  \n  - 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.  \n  - 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.  \n\n- **Avoid duplicates** 📝:  \n  - You already have 4 Cokes — skip soda unless it’s on sale.  \n  - Check your freezer for frozen entrees before buying more.  \n\n- **Plan meals around perishables** 🍏:  \n  - Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.  \n  - Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).  \n\n- **Buy only what’s missing** 🛒:  \n  - Stock up on pantry staples (rice, beans, etc.) *only if needed* — no extras until current stock is low.  \n\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 504, 'completion_tokens': 291, 'total_tokens': 795, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 504}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:24:14,512: DEBUG] Processing LLM response: {'id': '61e851ff-73a2-404f-b847-878b6743d87f', 'object': 'chat.completion', 'created': 1745868239, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:  \n\n- **Use what you have first** 🥧:  \n  - You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.  \n  - 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.  \n  - 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.  \n\n- **Avoid duplicates** 📝:  \n  - You already have 4 Cokes — skip soda unless it’s on sale.  \n  - Check your freezer for frozen entrees before buying more.  \n\n- **Plan meals around perishables** 🍏:  \n  - Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.  \n  - Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).  \n\n- **Buy only what’s missing** 🛒:  \n  - Stock up on pantry staples (rice, beans, etc.) *only if needed* — no extras until current stock is low.  \n\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 504, 'completion_tokens': 291, 'total_tokens': 795, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 504}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:24:14,518: DEBUG] AI response: Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:
- Use what you have first🥧:
- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.
- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.
- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.
1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.
- Avoid duplicates📝:
Avoid duplicates📝:
- You already have 4 Cokes — skip soda unless it’s on sale.
- Check your freezer for frozen entrees before buying more.
Check your freezer for frozen entrees before buying more.
- Plan meals around perishables🍏:
Plan meals around perishables🍏:
- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.
- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).
Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).
- Buy only what’s missing🛒:
Buy only what’s missing🛒:
- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.
😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.
[2025-04-28 15:24:14,519: DEBUG] AI message stored
[2025-04-28 15:24:14,519: DEBUG] Rendering HTMX response
[2025-04-28 15:24:56,418: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:24:56,953: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:25:03,633: DEBUG] Entering /chat route
[2025-04-28 15:25:03,634: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred'), ('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}, {'is_user': True, 'status': 'delivered', 'text': 'how can i save money in my next grocery list', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:\n- Use what you have first🥧:\n- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.\n- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.\n- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n- Avoid duplicates📝:\nAvoid duplicates📝:\n- You already have 4 Cokes — skip soda unless it’s on sale.\n- Check your freezer for frozen entrees before buying more.\nCheck your freezer for frozen entrees before buying more.\n- Plan meals around perishables🍏:\nPlan meals around perishables🍏:\n- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.\n- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\nUse wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\n- Buy only what’s missing🛒:\nBuy only what’s missing🛒:\n- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.', 'timestamp': 'Apr 28, 15:24'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:25:03,635: DEBUG] Chat history: 8 messages
[2025-04-28 15:25:03,635: DEBUG] Handling GET request
[2025-04-28 15:25:03,976: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:27:41,466: INFO] Logger initialized
[2025-04-28 15:27:41,466: ERROR] Error
[2025-04-28 15:27:41,466: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:27:41,466: WARNING] Warning
[2025-04-28 15:27:41,466: CRITICAL] Critical
[2025-04-28 15:27:48,163: INFO] Users table verified.
[2025-04-28 15:27:48,171: INFO] stockimages table schema created successfully.
[2025-04-28 15:27:48,179: INFO] stock table schema created successfully.
[2025-04-28 15:27:48,186: INFO] all_stock table schema created successfully.
[2025-04-28 15:27:48,186: INFO] Stock database schema initialized.
[2025-04-28 15:27:48,193: INFO] Users table verified.
[2025-04-28 15:27:48,201: INFO] Database schema created successfully.
[2025-04-28 15:27:48,208: INFO] Image database schema created successfully.
[2025-04-28 15:27:48,215: INFO] Database schema created successfully.
[2025-04-28 15:27:50,623: INFO] GroceryAnalyzer initialized
[2025-04-28 15:28:18,295: INFO] Logger initialized
[2025-04-28 15:28:18,296: ERROR] Error
[2025-04-28 15:28:18,296: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:28:18,296: WARNING] Warning
[2025-04-28 15:28:18,296: CRITICAL] Critical
[2025-04-28 15:28:24,618: INFO] Users table verified.
[2025-04-28 15:28:24,627: INFO] stockimages table schema created successfully.
[2025-04-28 15:28:24,637: INFO] stock table schema created successfully.
[2025-04-28 15:28:24,645: INFO] all_stock table schema created successfully.
[2025-04-28 15:28:24,645: INFO] Stock database schema initialized.
[2025-04-28 15:28:24,655: INFO] Users table verified.
[2025-04-28 15:28:24,664: INFO] Database schema created successfully.
[2025-04-28 15:28:24,672: INFO] Image database schema created successfully.
[2025-04-28 15:28:24,680: INFO] Database schema created successfully.
[2025-04-28 15:28:26,850: INFO] GroceryAnalyzer initialized
[2025-04-28 15:29:01,659: INFO] Logger initialized
[2025-04-28 15:29:01,659: ERROR] Error
[2025-04-28 15:29:01,659: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:29:01,659: WARNING] Warning
[2025-04-28 15:29:01,659: CRITICAL] Critical
[2025-04-28 15:29:07,573: INFO] Users table verified.
[2025-04-28 15:29:07,581: INFO] stockimages table schema created successfully.
[2025-04-28 15:29:07,589: INFO] stock table schema created successfully.
[2025-04-28 15:29:07,596: INFO] all_stock table schema created successfully.
[2025-04-28 15:29:07,596: INFO] Stock database schema initialized.
[2025-04-28 15:29:07,603: INFO] Users table verified.
[2025-04-28 15:29:07,610: INFO] Database schema created successfully.
[2025-04-28 15:29:07,616: INFO] Image database schema created successfully.
[2025-04-28 15:29:07,623: INFO] Database schema created successfully.
[2025-04-28 15:29:09,726: INFO] GroceryAnalyzer initialized
[2025-04-28 15:29:58,028: INFO] Logger initialized
[2025-04-28 15:29:58,028: ERROR] Error
[2025-04-28 15:29:58,028: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:29:58,028: WARNING] Warning
[2025-04-28 15:29:58,028: CRITICAL] Critical
[2025-04-28 15:30:02,903: INFO] Users table verified.
[2025-04-28 15:30:02,910: INFO] stockimages table schema created successfully.
[2025-04-28 15:30:02,917: INFO] stock table schema created successfully.
[2025-04-28 15:30:02,924: INFO] all_stock table schema created successfully.
[2025-04-28 15:30:02,924: INFO] Stock database schema initialized.
[2025-04-28 15:30:02,931: INFO] Users table verified.
[2025-04-28 15:30:02,938: INFO] Database schema created successfully.
[2025-04-28 15:30:02,944: INFO] Image database schema created successfully.
[2025-04-28 15:30:02,951: INFO] Database schema created successfully.
[2025-04-28 15:30:05,130: INFO] GroceryAnalyzer initialized
[2025-04-28 15:30:14,538: INFO] Logger initialized
[2025-04-28 15:30:14,539: ERROR] Error
[2025-04-28 15:30:14,539: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:30:14,539: WARNING] Warning
[2025-04-28 15:30:14,539: CRITICAL] Critical
[2025-04-28 15:30:20,754: INFO] Users table verified.
[2025-04-28 15:30:20,761: INFO] stockimages table schema created successfully.
[2025-04-28 15:30:20,768: INFO] stock table schema created successfully.
[2025-04-28 15:30:20,775: INFO] all_stock table schema created successfully.
[2025-04-28 15:30:20,775: INFO] Stock database schema initialized.
[2025-04-28 15:30:20,782: INFO] Users table verified.
[2025-04-28 15:30:20,790: INFO] Database schema created successfully.
[2025-04-28 15:30:20,797: INFO] Image database schema created successfully.
[2025-04-28 15:30:20,804: INFO] Database schema created successfully.
[2025-04-28 15:30:23,138: INFO] GroceryAnalyzer initialized
[2025-04-28 15:30:23,377: DEBUG] Entering /chat route
[2025-04-28 15:30:23,378: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}, {'is_user': True, 'status': 'delivered', 'text': 'how can i save money in my next grocery list', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:\n- Use what you have first🥧:\n- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.\n- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.\n- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n- Avoid duplicates📝:\nAvoid duplicates📝:\n- You already have 4 Cokes — skip soda unless it’s on sale.\n- Check your freezer for frozen entrees before buying more.\nCheck your freezer for frozen entrees before buying more.\n- Plan meals around perishables🍏:\nPlan meals around perishables🍏:\n- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.\n- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\nUse wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\n- Buy only what’s missing🛒:\nBuy only what’s missing🛒:\n- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.', 'timestamp': 'Apr 28, 15:24'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:30:23,379: DEBUG] Chat history: 8 messages
[2025-04-28 15:30:23,379: DEBUG] Handling POST request
[2025-04-28 15:30:23,380: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:30:23,380: DEBUG] Appending user message
[2025-04-28 15:30:23,381: WARNING] Chat history too large, truncating to 10 messages
[2025-04-28 15:30:23,381: DEBUG] User message stored
[2025-04-28 15:30:23,381: DEBUG] Processing AI response for user 6
[2025-04-28 15:30:23,381: DEBUG] Fetching knowledge base
[2025-04-28 15:30:23,381: DEBUG] Building knowledge base for user 6
[2025-04-28 15:30:23,382: DEBUG] Initialized cache for user 6
[2025-04-28 15:30:23,382: DEBUG] Fetching stock for user 6
[2025-04-28 15:30:23,393: INFO] Fetched 58 items for user 6.
[2025-04-28 15:30:23,393: DEBUG] Raw stock items: [{'id': 220, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 221, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 222, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 223, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 224, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'bakery', 'shelf_life': 3}, {'id': 225, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 226, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 227, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 7}, {'id': 228, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'deli', 'shelf_life': 1}, {'id': 229, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 230, 'name': 'Yogurt', 'quantity': 2, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 231, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'condiment', 'shelf_life': 30}, {'id': 232, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 21}, {'id': 233, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 234, 'name': 'Oranges', 'quantity': 10, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 235, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 236, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 237, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 14}, {'id': 238, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'dry goods', 'shelf_life': 365}, {'id': 239, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 240, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 241, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 242, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 243, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 244, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'Bakery', 'shelf_life': 3}, {'id': 245, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 246, 'name': 'Sandwiches', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 247, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 248, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 249, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 250, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 30}, {'id': 251, 'name': 'Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 252, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 253, 'name': 'Apples', 'quantity': 6, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 254, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 255, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 256, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 257, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 258, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 259, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 260, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 261, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 262, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 263, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 264, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 265, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 266, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 267, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 268, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 269, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 90}, {'id': 270, 'name': 'Naked Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Juice', 'shelf_life': 7}, {'id': 271, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 272, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 273, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 274, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 275, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 276, 'name': 'String Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 277, 'name': 'Burrito', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}]
[2025-04-28 15:30:23,393: DEBUG] Fetching receipts for user 6
[2025-04-28 15:30:23,403: DEBUG] Raw receipt items: [{'id': 291, 'name': 'NFS Grocery', 'quantity': 1, 'weight': 1.0, 'category': 'Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}, {'id': 292, 'name': 'Produce', 'quantity': 1, 'weight': 1.0, 'category': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}]
[2025-04-28 15:30:23,404: DEBUG] Fetching user info for user 6
[2025-04-28 15:30:23,412: DEBUG] Raw user info: [{'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'extra_info': 'diabetes,bllod group type O-'}]
[2025-04-28 15:30:23,412: WARNING] No knowledge items for user 6
[2025-04-28 15:30:23,412: DEBUG] Retrieving context
[2025-04-28 15:30:23,412: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:30:23,412: DEBUG] No knowledge base for user
[2025-04-28 15:30:23,412: DEBUG] Context: []
[2025-04-28 15:30:23,412: DEBUG] Generating AI response
[2025-04-28 15:30:23,412: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:30:23,413: DEBUG] Sending LLM request with prompt: You are a grocery assistant. Answer ONLY using the...
[2025-04-28 15:30:28,546: DEBUG] LLM response: {'id': '0939304a-485d-45dd-8785-f5ccd0da09e8', 'object': 'chat.completion', 'created': 1745868624, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "I don't know.  \n\n(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 79, 'completion_tokens': 30, 'total_tokens': 109, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 79}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:30:28,548: DEBUG] Processing LLM response: {'id': '0939304a-485d-45dd-8785-f5ccd0da09e8', 'object': 'chat.completion', 'created': 1745868624, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "I don't know.  \n\n(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 79, 'completion_tokens': 30, 'total_tokens': 109, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 79}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:30:28,591: DEBUG] AI response: I don't know.
(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)
[2025-04-28 15:30:28,591: DEBUG] AI message stored
[2025-04-28 15:30:28,591: DEBUG] Rendering HTMX response
[2025-04-28 15:32:18,929: INFO] Logger initialized
[2025-04-28 15:32:18,930: ERROR] Error
[2025-04-28 15:32:18,930: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:32:18,930: WARNING] Warning
[2025-04-28 15:32:18,930: CRITICAL] Critical
[2025-04-28 15:38:56,857: INFO] Logger initialized
[2025-04-28 15:38:56,857: ERROR] Error
[2025-04-28 15:38:56,857: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:38:56,857: WARNING] Warning
[2025-04-28 15:38:56,857: CRITICAL] Critical
[2025-04-28 15:39:03,276: INFO] Users table verified.
[2025-04-28 15:39:03,283: INFO] stockimages table schema created successfully.
[2025-04-28 15:39:03,289: INFO] stock table schema created successfully.
[2025-04-28 15:39:03,295: INFO] all_stock table schema created successfully.
[2025-04-28 15:39:03,296: INFO] Stock database schema initialized.
[2025-04-28 15:39:03,302: INFO] Users table verified.
[2025-04-28 15:39:03,308: INFO] Database schema created successfully.
[2025-04-28 15:39:03,314: INFO] Image database schema created successfully.
[2025-04-28 15:39:03,320: INFO] Database schema created successfully.
[2025-04-28 15:39:06,207: INFO] GroceryAnalyzer initialized
[2025-04-28 15:39:08,124: INFO] Logger initialized
[2025-04-28 15:39:08,124: ERROR] Error
[2025-04-28 15:39:08,124: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:39:08,124: WARNING] Warning
[2025-04-28 15:39:08,124: CRITICAL] Critical
[2025-04-28 15:39:15,044: INFO] Users table verified.
[2025-04-28 15:39:15,051: INFO] stockimages table schema created successfully.
[2025-04-28 15:39:15,058: INFO] stock table schema created successfully.
[2025-04-28 15:39:15,065: INFO] all_stock table schema created successfully.
[2025-04-28 15:39:15,065: INFO] Stock database schema initialized.
[2025-04-28 15:39:15,072: INFO] Users table verified.
[2025-04-28 15:39:15,079: INFO] Database schema created successfully.
[2025-04-28 15:39:15,085: INFO] Image database schema created successfully.
[2025-04-28 15:39:15,092: INFO] Database schema created successfully.
[2025-04-28 15:39:17,647: INFO] GroceryAnalyzer initialized
[2025-04-28 15:39:17,903: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:39:17,904: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:39:18,995: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:39:21,396: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:39:21,460: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:39:21,741: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:39:24,364: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:39:24,375: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:39:24,375: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:39:24,428: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:39:24,651: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:39:25,622: DEBUG] Entering /chat route
[2025-04-28 15:39:25,622: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}, {'is_user': True, 'status': 'delivered', 'text': 'how can i save money in my next grocery list', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:\n- Use what you have first🥧:\n- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.\n- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.\n- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n- Avoid duplicates📝:\nAvoid duplicates📝:\n- You already have 4 Cokes — skip soda unless it’s on sale.\n- Check your freezer for frozen entrees before buying more.\nCheck your freezer for frozen entrees before buying more.\n- Plan meals around perishables🍏:\nPlan meals around perishables🍏:\n- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.\n- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\nUse wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\n- Buy only what’s missing🛒:\nBuy only what’s missing🛒:\n- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.', 'timestamp': 'Apr 28, 15:24'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:30'}, {'is_user': False, 'status': 'delivered', 'text': "I don't know.\n(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)", 'timestamp': 'Apr 28, 15:30'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:39:25,625: DEBUG] Chat history: 10 messages
[2025-04-28 15:39:25,625: DEBUG] Handling GET request
[2025-04-28 15:39:25,869: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:39:30,385: DEBUG] Entering /chat route
[2025-04-28 15:39:30,385: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:17'}, {'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}, {'is_user': True, 'status': 'delivered', 'text': 'how can i save money in my next grocery list', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:\n- Use what you have first🥧:\n- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.\n- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.\n- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n- Avoid duplicates📝:\nAvoid duplicates📝:\n- You already have 4 Cokes — skip soda unless it’s on sale.\n- Check your freezer for frozen entrees before buying more.\nCheck your freezer for frozen entrees before buying more.\n- Plan meals around perishables🍏:\nPlan meals around perishables🍏:\n- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.\n- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\nUse wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\n- Buy only what’s missing🛒:\nBuy only what’s missing🛒:\n- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.', 'timestamp': 'Apr 28, 15:24'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:30'}, {'is_user': False, 'status': 'delivered', 'text': "I don't know.\n(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)", 'timestamp': 'Apr 28, 15:30'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:39:30,386: DEBUG] Chat history: 10 messages
[2025-04-28 15:39:30,386: DEBUG] Handling POST request
[2025-04-28 15:39:30,386: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:39:30,386: DEBUG] Appending user message
[2025-04-28 15:39:30,386: WARNING] Chat history too large, truncating to 10 messages
[2025-04-28 15:39:30,386: DEBUG] User message stored
[2025-04-28 15:39:30,386: DEBUG] Processing AI response for user 6
[2025-04-28 15:39:30,387: DEBUG] Fetching knowledge base
[2025-04-28 15:39:30,387: DEBUG] Building knowledge base for user 6
[2025-04-28 15:39:30,387: DEBUG] Initialized cache for user 6
[2025-04-28 15:39:30,387: DEBUG] Fetching stock for user 6
[2025-04-28 15:39:30,396: INFO] Fetched 58 items for user 6.
[2025-04-28 15:39:30,396: DEBUG] Raw stock items: [{'id': 220, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 221, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 222, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 223, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 224, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'bakery', 'shelf_life': 3}, {'id': 225, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 226, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 227, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 7}, {'id': 228, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'deli', 'shelf_life': 1}, {'id': 229, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 230, 'name': 'Yogurt', 'quantity': 2, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 231, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'condiment', 'shelf_life': 30}, {'id': 232, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 21}, {'id': 233, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 234, 'name': 'Oranges', 'quantity': 10, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 235, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 236, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 237, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 14}, {'id': 238, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'dry goods', 'shelf_life': 365}, {'id': 239, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 240, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 241, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 242, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 243, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 244, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'Bakery', 'shelf_life': 3}, {'id': 245, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 246, 'name': 'Sandwiches', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 247, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 248, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 249, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 250, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 30}, {'id': 251, 'name': 'Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 252, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 253, 'name': 'Apples', 'quantity': 6, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 254, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 255, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 256, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 257, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 258, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 259, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 260, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 261, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 262, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 263, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 264, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 265, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 266, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 267, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 268, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 269, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 90}, {'id': 270, 'name': 'Naked Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Juice', 'shelf_life': 7}, {'id': 271, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 272, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 273, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 274, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 275, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 276, 'name': 'String Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 277, 'name': 'Burrito', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}]
[2025-04-28 15:39:30,396: DEBUG] Fetching receipts for user 6
[2025-04-28 15:39:30,406: DEBUG] Raw receipt items: [{'id': 291, 'name': 'NFS Grocery', 'quantity': 1, 'weight': 1.0, 'category': 'Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}, {'id': 292, 'name': 'Produce', 'quantity': 1, 'weight': 1.0, 'category': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}]
[2025-04-28 15:39:30,406: DEBUG] Fetching user info for user 6
[2025-04-28 15:39:30,414: DEBUG] Raw user info: [{'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'extra_info': 'diabetes,bllod group type O-'}]
[2025-04-28 15:39:30,414: DEBUG] Updating FAISS index for user 6
[2025-04-28 15:39:30,414: DEBUG] Encoding knowledge items
[2025-04-28 15:39:30,929: DEBUG] Encoded 61 embeddings
[2025-04-28 15:39:30,930: DEBUG] Updated FAISS index with 61 items
[2025-04-28 15:39:30,930: DEBUG] Retrieving context
[2025-04-28 15:39:30,930: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:39:30,949: DEBUG] Context: []
[2025-04-28 15:39:30,949: DEBUG] Context: []
[2025-04-28 15:39:30,949: DEBUG] Generating AI response
[2025-04-28 15:39:30,949: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:39:30,949: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:40:01,190: DEBUG] LLM response: {'id': '09bf71cf-c4f1-4394-86c4-80affefcd258', 'object': 'chat.completion', 'created': 1745869171, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "Since I don't have access to your specific details like allergies, dietary preferences, health conditions, current stock levels, or recent purchases (the [] context is missing), here’s a general approach to help you decide what to cook today:  \n\n- 🥧 **Quick & Easy**: Stir-fry with veggies + protein (tofu/chicken) + soy sauce. Use whatever veggies are about to expire!  \n- 🥧 **Pantry Staples**: Pasta with olive oil, garlic, and canned tomatoes (add chili flakes if you like spice).  \n- 🥧 **Comfort Food**: Scrambled eggs with toast + avocado (if you have ripe ones).  \n- 📝 **Tip**: Check your fridge for wilting greens or soon-to-expire items—soups or omelets are great for using them up!  \n- 😊 Let me know your dietary needs or what’s in your kitchen, and I’ll tailor better ideas!  \n\n*(For precise suggestions, share details like allergies, ingredients on hand, or dietary preferences!)*"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 197, 'completion_tokens': 219, 'total_tokens': 416, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 197}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:40:01,194: DEBUG] Processing LLM response: {'id': '09bf71cf-c4f1-4394-86c4-80affefcd258', 'object': 'chat.completion', 'created': 1745869171, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': "Since I don't have access to your specific details like allergies, dietary preferences, health conditions, current stock levels, or recent purchases (the [] context is missing), here’s a general approach to help you decide what to cook today:  \n\n- 🥧 **Quick & Easy**: Stir-fry with veggies + protein (tofu/chicken) + soy sauce. Use whatever veggies are about to expire!  \n- 🥧 **Pantry Staples**: Pasta with olive oil, garlic, and canned tomatoes (add chili flakes if you like spice).  \n- 🥧 **Comfort Food**: Scrambled eggs with toast + avocado (if you have ripe ones).  \n- 📝 **Tip**: Check your fridge for wilting greens or soon-to-expire items—soups or omelets are great for using them up!  \n- 😊 Let me know your dietary needs or what’s in your kitchen, and I’ll tailor better ideas!  \n\n*(For precise suggestions, share details like allergies, ingredients on hand, or dietary preferences!)*"}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 197, 'completion_tokens': 219, 'total_tokens': 416, 'prompt_tokens_details': {'cached_tokens': 0}, 'prompt_cache_hit_tokens': 0, 'prompt_cache_miss_tokens': 197}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:40:01,321: DEBUG] AI response: Since I don't have access to your specific details like allergies, dietary preferences, health conditions, current stock levels, or recent purchases (the [] context is missing), here’s a general approach to help you decide what to cook today:
- 🥧Quick & Easy: Stir-fry with veggies + protein (tofu/chicken) + soy sauce. Use whatever veggies are about to expire!
- 🥧Pantry Staples: Pasta with olive oil, garlic, and canned tomatoes (add chili flakes if you like spice).
- 🥧Comfort Food: Scrambled eggs with toast + avocado (if you have ripe ones).
- 📝Tip: Check your fridge for wilting greens or soon-to-expire items—soups or omelets are great for using them up!
- 😊 Let me know your dietary needs or what’s in your kitchen, and I’ll tailor better ideas!
(For precise suggestions, share details like allergies, ingredients on hand, or dietary preferences!)
[2025-04-28 15:40:01,322: DEBUG] AI message stored
[2025-04-28 15:40:01,322: DEBUG] Rendering HTMX response
[2025-04-28 15:42:30,181: INFO] Logger initialized
[2025-04-28 15:42:30,181: ERROR] Error
[2025-04-28 15:42:30,182: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:42:30,182: WARNING] Warning
[2025-04-28 15:42:30,182: CRITICAL] Critical
[2025-04-28 15:42:37,216: INFO] Users table verified.
[2025-04-28 15:42:37,224: INFO] stockimages table schema created successfully.
[2025-04-28 15:42:37,232: INFO] stock table schema created successfully.
[2025-04-28 15:42:37,239: INFO] all_stock table schema created successfully.
[2025-04-28 15:42:37,239: INFO] Stock database schema initialized.
[2025-04-28 15:42:37,247: INFO] Users table verified.
[2025-04-28 15:42:37,254: INFO] Database schema created successfully.
[2025-04-28 15:42:37,261: INFO] Image database schema created successfully.
[2025-04-28 15:42:37,268: INFO] Database schema created successfully.
[2025-04-28 15:42:39,553: INFO] GroceryAnalyzer initialized
[2025-04-28 15:42:39,787: DEBUG] Entering /chat route
[2025-04-28 15:42:39,788: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [{'is_user': False, 'status': 'delivered', 'text': 'Here are your options based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed!\n📝Tips:- Check labels for cooking instructions (oven/microwave times may vary).- Pair with a simple side salad or steamed veggies if you want extra greens.\nSince no allergies, dietary preferences, or health conditions were mentioned, these should work for you as-is. Enjoy your meal! 😊', 'timestamp': 'Apr 28, 15:17'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:21'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s what you can cook today based on your current stock:\n- 🥧Chicken Pot Pie (x3): You have three frozen chicken pot pies (two labeled "Frozen Meal," one "frozen entree"). These are ready to heat and eat—no extra prep needed! Just follow the package instructions for baking or microwaving.\n📝Tip:- If you’d like to add freshness, pair with a simple side salad or steamed veggies (if you have any on hand).- Check labels for allergens (e.g., gluten, dairy) if you have dietary restrictions, as these often contain crusts and creamy fillings.\n😊 Enjoy your easy, cozy meal! Let me know if you’d like help planning future groceries to mix things up.', 'timestamp': 'Apr 28, 15:21'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': "Here are some quick meal ideas based on your current stock! 🍽️\n🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 frozen meals, 1 frozen entree). Heat one up for a hearty meal!- Pair with a simple side salad if you have fresh greens, or enjoy as-is.\n🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 frozen entree, 2 frozen meals). Heat one for a creamy, filling dish.- Sprinkle with extra salsa (you have 3 jars!) for a tangy twist 🌶️.\n🍲Pasta + Salsa Fusion- Boil your dry pasta and toss with salsa for a quick, no-cook sauce. Add veggies or cheese if available!\n📝Tips:- Check freezer space—you have multiple frozen meals, so rotate to avoid overcrowding.- Salsa can also jazz up scrambled eggs or baked potatoes if you have those!\n\n😊 Let me know if you'd like recipe tweaks or more ideas! 😊", 'timestamp': 'Apr 28, 15:23'}, {'is_user': True, 'status': 'delivered', 'text': 'how can i save money in my next grocery list', 'timestamp': 'Apr 28, 15:23'}, {'is_user': False, 'status': 'delivered', 'text': 'Here’s how you can save money on your next grocery trip based on your current stock and recent purchases:\n- Use what you have first🥧:\n- You have 16 apples (5 + 5 + 6) — great for snacks, salads, or baking before they spoil.\n- 2 wraps + 1 burrito can make quick lunches without buying more bread/tortillas.\n- 1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n1 lasagna + 1 chicken pot pie are ready-to-eat frozen meals — use them to avoid takeout.\n- Avoid duplicates📝:\nAvoid duplicates📝:\n- You already have 4 Cokes — skip soda unless it’s on sale.\n- Check your freezer for frozen entrees before buying more.\nCheck your freezer for frozen entrees before buying more.\n- Plan meals around perishables🍏:\nPlan meals around perishables🍏:\n- Apples are fresh and abundant — try oatmeal with apples, apple smoothies, or baked apples for dessert.\n- Use wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\nUse wraps for easy veggie wraps or breakfast burritos with eggs (if you have them).\n- Buy only what’s missing🛒:\nBuy only what’s missing🛒:\n- Stock up on pantry staples (rice, beans, etc.)only if needed— no extras until current stock is low.\n😊 Small tweaks like these can cut costs and reduce waste! Let me know if you’d like meal ideas with your current items.', 'timestamp': 'Apr 28, 15:24'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:30'}, {'is_user': False, 'status': 'delivered', 'text': "I don't know.\n(Since no context was provided about available ingredients, dietary preferences, or allergies, I can't suggest a specific dish.)", 'timestamp': 'Apr 28, 15:30'}, {'is_user': True, 'status': 'delivered', 'text': 'what can i cook today', 'timestamp': 'Apr 28, 15:39'}, {'is_user': False, 'status': 'delivered', 'text': "Since I don't have access to your specific details like allergies, dietary preferences, health conditions, current stock levels, or recent purchases (the [] context is missing), here’s a general approach to help you decide what to cook today:\n- 🥧Quick & Easy: Stir-fry with veggies + protein (tofu/chicken) + soy sauce. Use whatever veggies are about to expire!\n- 🥧Pantry Staples: Pasta with olive oil, garlic, and canned tomatoes (add chili flakes if you like spice).\n- 🥧Comfort Food: Scrambled eggs with toast + avocado (if you have ripe ones).\n- 📝Tip: Check your fridge for wilting greens or soon-to-expire items—soups or omelets are great for using them up!\n- 😊 Let me know your dietary needs or what’s in your kitchen, and I’ll tailor better ideas!\n(For precise suggestions, share details like allergies, ingredients on hand, or dietary preferences!)", 'timestamp': 'Apr 28, 15:40'}], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:42:39,789: DEBUG] Chat history: 11 messages
[2025-04-28 15:42:39,789: DEBUG] Handling POST request
[2025-04-28 15:42:39,789: DEBUG] User ID: 6, Query: what can i cook today
[2025-04-28 15:42:39,789: DEBUG] Appending user message
[2025-04-28 15:42:39,790: WARNING] Chat history too large, truncating to 10 messages
[2025-04-28 15:42:39,790: DEBUG] User message stored
[2025-04-28 15:42:39,790: DEBUG] Processing AI response for user 6
[2025-04-28 15:42:39,790: DEBUG] Fetching knowledge base
[2025-04-28 15:42:39,790: DEBUG] Building knowledge base for user 6
[2025-04-28 15:42:39,791: DEBUG] Initialized cache for user 6
[2025-04-28 15:42:39,791: DEBUG] Fetching stock for user 6
[2025-04-28 15:42:39,801: INFO] Fetched 58 items for user 6.
[2025-04-28 15:42:39,802: DEBUG] Raw stock items: [{'id': 220, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 221, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 222, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'frozen pizza', 'shelf_life': 365}, {'id': 223, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 224, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'bakery', 'shelf_life': 3}, {'id': 225, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 226, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'frozen entree', 'shelf_life': 365}, {'id': 227, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 7}, {'id': 228, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'deli', 'shelf_life': 1}, {'id': 229, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 230, 'name': 'Yogurt', 'quantity': 2, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 7}, {'id': 231, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'condiment', 'shelf_life': 30}, {'id': 232, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 21}, {'id': 233, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 234, 'name': 'Oranges', 'quantity': 10, 'weight': '1.0', 'category': 'fruit', 'shelf_life': 7}, {'id': 235, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 236, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'beverage', 'shelf_life': 365}, {'id': 237, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'dairy', 'shelf_life': 14}, {'id': 238, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'dry goods', 'shelf_life': 365}, {'id': 239, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 240, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 241, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 242, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 243, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 244, 'name': 'Wraps', 'quantity': 1, 'weight': '1.0', 'category': 'Bakery', 'shelf_life': 3}, {'id': 245, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 246, 'name': 'Sandwiches', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 247, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 248, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 249, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 250, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 30}, {'id': 251, 'name': 'Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 252, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 253, 'name': 'Apples', 'quantity': 6, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 254, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 255, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 256, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Beverage', 'shelf_life': 365}, {'id': 257, 'name': 'Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 258, 'name': 'Big, Bold & Meaty Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 259, 'name': 'Super Supreme Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 260, 'name': 'Double Pepperoni Pizza', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Pizza', 'shelf_life': 365}, {'id': 261, 'name': 'Chicken Pot Pie', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 262, 'name': 'Lasagna', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 263, 'name': 'Alfredo Pasta with Chicken & Broccoli', 'quantity': 1, 'weight': '283.0', 'category': 'Frozen Meal', 'shelf_life': 365}, {'id': 264, 'name': 'Mocha', 'quantity': 1, 'weight': '1.0', 'category': 'Beverage', 'shelf_life': 7}, {'id': 265, 'name': 'Sandwich', 'quantity': 2, 'weight': '1.0', 'category': 'Deli', 'shelf_life': 1}, {'id': 266, 'name': 'Milk', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 7}, {'id': 267, 'name': 'Yogurt Cups', 'quantity': 2, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 268, 'name': 'Pasta', 'quantity': 1, 'weight': '1.0', 'category': 'Dry Goods', 'shelf_life': 365}, {'id': 269, 'name': 'Salsa', 'quantity': 1, 'weight': '1.0', 'category': 'Condiment', 'shelf_life': 90}, {'id': 270, 'name': 'Naked Juice', 'quantity': 2, 'weight': '1.0', 'category': 'Juice', 'shelf_life': 7}, {'id': 271, 'name': 'Eggs', 'quantity': 6, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 21}, {'id': 272, 'name': 'Apples', 'quantity': 5, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 273, 'name': 'Oranges', 'quantity': 12, 'weight': '1.0', 'category': 'Fruit', 'shelf_life': 7}, {'id': 274, 'name': 'Coke', 'quantity': 4, 'weight': '1.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 275, 'name': 'Ginger Ale', 'quantity': 1, 'weight': '140.0', 'category': 'Soda', 'shelf_life': 365}, {'id': 276, 'name': 'String Cheese', 'quantity': 1, 'weight': '1.0', 'category': 'Dairy', 'shelf_life': 14}, {'id': 277, 'name': 'Burrito', 'quantity': 1, 'weight': '1.0', 'category': 'Frozen Meal', 'shelf_life': 365}]
[2025-04-28 15:42:39,802: DEBUG] Fetching receipts for user 6
[2025-04-28 15:42:39,811: DEBUG] Raw receipt items: [{'id': 291, 'name': 'NFS Grocery', 'quantity': 1, 'weight': 1.0, 'category': 'Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}, {'id': 292, 'name': 'Produce', 'quantity': 1, 'weight': 1.0, 'category': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'expiration_date': '2010-11-15'}]
[2025-04-28 15:42:39,811: DEBUG] Fetching user info for user 6
[2025-04-28 15:42:39,821: DEBUG] Raw user info: [{'age': None, 'first_name': None, 'last_name': None, 'vegetarian': 1, 'vegan': 1, 'gluten_free': 0, 'allergies': 'peanuts,rice', 'extra_info': 'diabetes,bllod group type O-'}]
[2025-04-28 15:42:39,821: DEBUG] Updating FAISS index for user 6
[2025-04-28 15:42:39,821: DEBUG] Encoding knowledge items
[2025-04-28 15:42:40,314: DEBUG] Encoded 61 embeddings
[2025-04-28 15:42:40,315: DEBUG] Updated FAISS index with 61 items
[2025-04-28 15:42:40,315: DEBUG] Retrieving context
[2025-04-28 15:42:40,315: DEBUG] Retrieving context for user 6, query: what can i cook today
[2025-04-28 15:42:40,333: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Salsa, Quantity: 1, Category: condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Pasta, Quantity: 1, Category: dry goods']
[2025-04-28 15:42:40,333: DEBUG] Context: ['Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: Frozen Meal', 'Stock: Chicken Pot Pie, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: frozen entree', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Alfredo Pasta with Chicken & Broccoli, Quantity: 1, Category: Frozen Meal', 'Stock: Salsa, Quantity: 1, Category: condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Salsa, Quantity: 1, Category: Condiment', 'Stock: Pasta, Quantity: 1, Category: dry goods']
[2025-04-28 15:42:40,333: DEBUG] Generating AI response
[2025-04-28 15:42:40,333: DEBUG] Generating response for user 6, query: what can i cook today
[2025-04-28 15:42:40,333: DEBUG] Sending LLM request with prompt: You are a smart grocery assistant helping reduce f...
[2025-04-28 15:42:54,480: DEBUG] LLM response: {'id': '4bbcd1a0-284f-4255-8ece-307f597059ab', 'object': 'chat.completion', 'created': 1745869361, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here are some quick meal ideas based on your current stock!  \n\n🥧 **Chicken Pot Pie Feast**  \n- You have 3 chicken pot pies (2 labeled "Frozen Meal," 1 "frozen entree").  \n- Heat one up for a hearty meal! Pair with a simple side salad if you have fresh greens.  \n\n🍝 **Alfredo Pasta Combo**  \n- You have 3 Alfredo Pasta with Chicken & Broccoli (1 "frozen entree," 2 "Frozen Meal").  \n- Warm one for a creamy, filling dish. Add a sprinkle of salsa for a tangy twist 🌶️.  \n\n🍲 **Pasta + Salsa Fusion**  \n- Use your dry pasta (1 left) and simmer with salsa (3 jars) for a quick *salsa pasta*—add veggies or protein if available!  \n\n📝 **Tips:**  \n- Since you have multiples of frozen meals, prioritize using one to free up space.  \n- Check labels for allergens (e.g., gluten in pasta/pies) if needed.  \n\n😊 Enjoy your meal! Let me know if you’d like recipe tweaks!'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 549, 'completion_tokens': 243, 'total_tokens': 792, 'prompt_tokens_details': {'cached_tokens': 512}, 'prompt_cache_hit_tokens': 512, 'prompt_cache_miss_tokens': 37}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:42:54,484: DEBUG] Processing LLM response: {'id': '4bbcd1a0-284f-4255-8ece-307f597059ab', 'object': 'chat.completion', 'created': 1745869361, 'model': 'deepseek-chat', 'choices': [{'index': 0, 'message': {'role': 'assistant', 'content': 'Here are some quick meal ideas based on your current stock!  \n\n🥧 **Chicken Pot Pie Feast**  \n- You have 3 chicken pot pies (2 labeled "Frozen Meal," 1 "frozen entree").  \n- Heat one up for a hearty meal! Pair with a simple side salad if you have fresh greens.  \n\n🍝 **Alfredo Pasta Combo**  \n- You have 3 Alfredo Pasta with Chicken & Broccoli (1 "frozen entree," 2 "Frozen Meal").  \n- Warm one for a creamy, filling dish. Add a sprinkle of salsa for a tangy twist 🌶️.  \n\n🍲 **Pasta + Salsa Fusion**  \n- Use your dry pasta (1 left) and simmer with salsa (3 jars) for a quick *salsa pasta*—add veggies or protein if available!  \n\n📝 **Tips:**  \n- Since you have multiples of frozen meals, prioritize using one to free up space.  \n- Check labels for allergens (e.g., gluten in pasta/pies) if needed.  \n\n😊 Enjoy your meal! Let me know if you’d like recipe tweaks!'}, 'logprobs': None, 'finish_reason': 'stop'}], 'usage': {'prompt_tokens': 549, 'completion_tokens': 243, 'total_tokens': 792, 'prompt_tokens_details': {'cached_tokens': 512}, 'prompt_cache_hit_tokens': 512, 'prompt_cache_miss_tokens': 37}, 'system_fingerprint': 'fp_8802369eaa_prod0425fp8'}
[2025-04-28 15:42:54,530: DEBUG] AI response: Here are some quick meal ideas based on your current stock!
🥧Chicken Pot Pie Feast- You have 3 chicken pot pies (2 labeled "Frozen Meal," 1 "frozen entree").- Heat one up for a hearty meal! Pair with a simple side salad if you have fresh greens.
🍝Alfredo Pasta Combo- You have 3 Alfredo Pasta with Chicken & Broccoli (1 "frozen entree," 2 "Frozen Meal").- Warm one for a creamy, filling dish. Add a sprinkle of salsa for a tangy twist 🌶️.
🍲Pasta + Salsa Fusion- Use your dry pasta (1 left) and simmer with salsa (3 jars) for a quicksalsa pasta—add veggies or protein if available!
📝Tips:- Since you have multiples of frozen meals, prioritize using one to free up space.- Check labels for allergens (e.g., gluten in pasta/pies) if needed.
😊 Enjoy your meal! Let me know if you’d like recipe tweaks!
[2025-04-28 15:42:54,530: DEBUG] AI message stored
[2025-04-28 15:42:54,530: DEBUG] Rendering HTMX response
[2025-04-28 15:43:30,030: DEBUG] Clearing chat history
[2025-04-28 15:43:30,031: DEBUG] Chat history cleared
[2025-04-28 15:43:31,829: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:43:32,548: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:43:35,458: INFO] User with ID '6' fetched successfully.
[2025-04-28 15:43:35,511: INFO] Serving image: 3399eca922de45e5a9a5204e1aeff125.jpg
[2025-04-28 15:43:35,795: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:43:37,521: INFO] Fetched 20 items for user 6 with stock_id 45.
[2025-04-28 15:43:37,531: INFO] Fetched latest filename for user 6: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:43:37,531: DEBUG] Stock: Rendering stock.html with filename=1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:43:37,575: INFO] Serving image: 1875bf2cc3a74306a88d956ec5eb6d1c.jpg
[2025-04-28 15:43:37,813: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:43:38,452: DEBUG] Entering /chat route
[2025-04-28 15:43:38,453: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'peanuts,rice', 'chat_history': [], 'csrf_token': 'dff138dc01723dc10c8db645c42910fc9d2fe7f9', 'email': 'cyrileze123@gmail.com', 'extra_info': 'diabetes,bllod group type O-', 'first_name': None, 'gluten': 0, 'last_name': None, 'last_receipt_file': '3399eca922de45e5a9a5204e1aeff125.jpg', 'last_receipt_id': 51, 'last_stock_id': 45, 'lastest_stock_file': '1875bf2cc3a74306a88d956ec5eb6d1c.jpg', 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 6, 'username': 'cyril', 'vegan': 1}>
[2025-04-28 15:43:38,454: DEBUG] Chat history: 0 messages
[2025-04-28 15:43:38,454: DEBUG] Handling GET request
[2025-04-28 15:43:38,811: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 15:58:25,015: INFO] Logger initialized
[2025-04-28 15:58:25,016: ERROR] Error
[2025-04-28 15:58:25,016: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 15:58:25,016: WARNING] Warning
[2025-04-28 15:58:25,016: CRITICAL] Critical
[2025-04-28 15:58:32,684: INFO] Users table verified.
[2025-04-28 15:58:32,696: INFO] stockimages table schema created successfully.
[2025-04-28 15:58:32,703: INFO] stock table schema created successfully.
[2025-04-28 15:58:32,710: INFO] all_stock table schema created successfully.
[2025-04-28 15:58:32,710: INFO] Stock database schema initialized.
[2025-04-28 15:58:32,717: INFO] Users table verified.
[2025-04-28 15:58:32,724: INFO] Database schema created successfully.
[2025-04-28 15:58:32,731: INFO] Image database schema created successfully.
[2025-04-28 15:58:32,737: INFO] Database schema created successfully.
[2025-04-28 15:58:35,582: INFO] GroceryAnalyzer initialized
[2025-04-28 16:00:51,341: INFO] Logger initialized
[2025-04-28 16:00:51,341: ERROR] Error
[2025-04-28 16:00:51,341: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:00:51,341: WARNING] Warning
[2025-04-28 16:00:51,341: CRITICAL] Critical
[2025-04-28 16:00:59,291: INFO] Users table verified.
[2025-04-28 16:00:59,302: INFO] stockimages table schema created successfully.
[2025-04-28 16:00:59,309: INFO] stock table schema created successfully.
[2025-04-28 16:00:59,316: INFO] all_stock table schema created successfully.
[2025-04-28 16:00:59,316: INFO] Stock database schema initialized.
[2025-04-28 16:00:59,323: INFO] Users table verified.
[2025-04-28 16:00:59,330: INFO] Database schema created successfully.
[2025-04-28 16:00:59,338: INFO] Image database schema created successfully.
[2025-04-28 16:00:59,345: INFO] Database schema created successfully.
[2025-04-28 16:01:02,205: INFO] GroceryAnalyzer initialized
[2025-04-28 16:01:45,773: INFO] Logger initialized
[2025-04-28 16:01:45,773: ERROR] Error
[2025-04-28 16:01:45,773: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:01:45,773: WARNING] Warning
[2025-04-28 16:01:45,773: CRITICAL] Critical
[2025-04-28 16:01:53,380: INFO] Users table verified.
[2025-04-28 16:01:53,390: INFO] stockimages table schema created successfully.
[2025-04-28 16:01:53,405: INFO] stock table schema created successfully.
[2025-04-28 16:01:53,423: INFO] all_stock table schema created successfully.
[2025-04-28 16:01:53,423: INFO] Stock database schema initialized.
[2025-04-28 16:01:53,443: INFO] Users table verified.
[2025-04-28 16:01:53,458: INFO] Database schema created successfully.
[2025-04-28 16:01:53,467: INFO] Image database schema created successfully.
[2025-04-28 16:01:53,476: INFO] Database schema created successfully.
[2025-04-28 16:01:56,153: INFO] GroceryAnalyzer initialized
[2025-04-28 16:05:02,025: INFO] Logger initialized
[2025-04-28 16:05:02,025: ERROR] Error
[2025-04-28 16:05:02,025: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:05:02,025: WARNING] Warning
[2025-04-28 16:05:02,025: CRITICAL] Critical
[2025-04-28 16:05:09,486: INFO] Users table verified.
[2025-04-28 16:05:09,495: INFO] stockimages table schema created successfully.
[2025-04-28 16:05:09,503: INFO] stock table schema created successfully.
[2025-04-28 16:05:09,510: INFO] all_stock table schema created successfully.
[2025-04-28 16:05:09,510: INFO] Stock database schema initialized.
[2025-04-28 16:05:09,520: INFO] Users table verified.
[2025-04-28 16:05:09,528: INFO] Database schema created successfully.
[2025-04-28 16:05:09,536: INFO] Image database schema created successfully.
[2025-04-28 16:05:09,545: INFO] Database schema created successfully.
[2025-04-28 16:05:12,545: INFO] GroceryAnalyzer initialized
[2025-04-28 16:10:51,170: INFO] Logger initialized
[2025-04-28 16:10:51,171: ERROR] Error
[2025-04-28 16:10:51,171: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:10:51,171: WARNING] Warning
[2025-04-28 16:10:51,171: CRITICAL] Critical
[2025-04-28 16:10:58,749: INFO] Users table verified.
[2025-04-28 16:10:58,757: INFO] stockimages table schema created successfully.
[2025-04-28 16:10:58,763: INFO] stock table schema created successfully.
[2025-04-28 16:10:58,770: INFO] all_stock table schema created successfully.
[2025-04-28 16:10:58,770: INFO] Stock database schema initialized.
[2025-04-28 16:10:58,778: INFO] Users table verified.
[2025-04-28 16:10:58,785: INFO] Database schema created successfully.
[2025-04-28 16:10:58,791: INFO] Image database schema created successfully.
[2025-04-28 16:10:58,798: INFO] Database schema created successfully.
[2025-04-28 16:11:02,992: INFO] GroceryAnalyzer initialized
[2025-04-28 16:12:59,514: INFO] Logger initialized
[2025-04-28 16:12:59,514: ERROR] Error
[2025-04-28 16:12:59,514: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:12:59,514: WARNING] Warning
[2025-04-28 16:12:59,514: CRITICAL] Critical
[2025-04-28 16:13:07,230: INFO] Users table verified.
[2025-04-28 16:13:07,238: INFO] stockimages table schema created successfully.
[2025-04-28 16:13:07,245: INFO] stock table schema created successfully.
[2025-04-28 16:13:07,252: INFO] all_stock table schema created successfully.
[2025-04-28 16:13:07,252: INFO] Stock database schema initialized.
[2025-04-28 16:13:07,264: INFO] Users table verified.
[2025-04-28 16:13:07,274: INFO] Database schema created successfully.
[2025-04-28 16:13:07,283: INFO] Image database schema created successfully.
[2025-04-28 16:13:07,294: INFO] Database schema created successfully.
[2025-04-28 16:13:09,761: INFO] GroceryAnalyzer initialized
[2025-04-28 16:13:30,232: INFO] Logger initialized
[2025-04-28 16:13:30,232: ERROR] Error
[2025-04-28 16:13:30,232: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:13:30,232: WARNING] Warning
[2025-04-28 16:13:30,232: CRITICAL] Critical
[2025-04-28 16:13:37,409: INFO] Users table verified.
[2025-04-28 16:13:37,417: INFO] stockimages table schema created successfully.
[2025-04-28 16:13:37,424: INFO] stock table schema created successfully.
[2025-04-28 16:13:37,431: INFO] all_stock table schema created successfully.
[2025-04-28 16:13:37,431: INFO] Stock database schema initialized.
[2025-04-28 16:13:37,438: INFO] Users table verified.
[2025-04-28 16:13:37,445: INFO] Database schema created successfully.
[2025-04-28 16:13:37,452: INFO] Image database schema created successfully.
[2025-04-28 16:13:37,458: INFO] Database schema created successfully.
[2025-04-28 16:13:40,088: INFO] GroceryAnalyzer initialized
[2025-04-28 16:15:15,529: INFO] Logger initialized
[2025-04-28 16:15:15,530: ERROR] Error
[2025-04-28 16:15:15,530: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:15:15,530: WARNING] Warning
[2025-04-28 16:15:15,530: CRITICAL] Critical
[2025-04-28 16:15:22,902: INFO] Users table verified.
[2025-04-28 16:15:22,911: INFO] stockimages table schema created successfully.
[2025-04-28 16:15:22,918: INFO] stock table schema created successfully.
[2025-04-28 16:15:22,926: INFO] all_stock table schema created successfully.
[2025-04-28 16:15:22,926: INFO] Stock database schema initialized.
[2025-04-28 16:15:22,933: INFO] Users table verified.
[2025-04-28 16:15:22,941: INFO] Database schema created successfully.
[2025-04-28 16:15:22,947: INFO] Image database schema created successfully.
[2025-04-28 16:15:22,954: INFO] Database schema created successfully.
[2025-04-28 16:15:25,251: INFO] GroceryAnalyzer initialized
[2025-04-28 16:26:38,263: INFO] Logger initialized
[2025-04-28 16:26:38,263: ERROR] Error
[2025-04-28 16:26:38,263: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:26:38,263: WARNING] Warning
[2025-04-28 16:26:38,263: CRITICAL] Critical
[2025-04-28 16:26:45,955: INFO] Users table verified.
[2025-04-28 16:26:45,964: INFO] stockimages table schema created successfully.
[2025-04-28 16:26:45,972: INFO] stock table schema created successfully.
[2025-04-28 16:26:45,979: INFO] all_stock table schema created successfully.
[2025-04-28 16:26:45,980: INFO] Stock database schema initialized.
[2025-04-28 16:26:45,988: INFO] Users table verified.
[2025-04-28 16:26:45,996: INFO] Database schema created successfully.
[2025-04-28 16:26:46,006: INFO] Image database schema created successfully.
[2025-04-28 16:26:46,013: INFO] Database schema created successfully.
[2025-04-28 16:26:48,615: INFO] GroceryAnalyzer initialized
[2025-04-28 16:27:34,512: INFO] Logger initialized
[2025-04-28 16:27:34,512: ERROR] Error
[2025-04-28 16:27:34,512: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:27:34,513: WARNING] Warning
[2025-04-28 16:27:34,513: CRITICAL] Critical
[2025-04-28 16:27:41,351: INFO] Users table verified.
[2025-04-28 16:27:41,359: INFO] stockimages table schema created successfully.
[2025-04-28 16:27:41,365: INFO] stock table schema created successfully.
[2025-04-28 16:27:41,372: INFO] all_stock table schema created successfully.
[2025-04-28 16:27:41,372: INFO] Stock database schema initialized.
[2025-04-28 16:27:41,379: INFO] Users table verified.
[2025-04-28 16:27:41,386: INFO] Database schema created successfully.
[2025-04-28 16:27:41,392: INFO] Image database schema created successfully.
[2025-04-28 16:27:41,399: INFO] Database schema created successfully.
[2025-04-28 16:27:43,957: INFO] GroceryAnalyzer initialized
[2025-04-28 16:28:04,644: INFO] Logger initialized
[2025-04-28 16:28:04,644: ERROR] Error
[2025-04-28 16:28:04,644: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:28:04,644: WARNING] Warning
[2025-04-28 16:28:04,645: CRITICAL] Critical
[2025-04-28 16:28:11,171: INFO] Users table verified.
[2025-04-28 16:28:11,178: INFO] stockimages table schema created successfully.
[2025-04-28 16:28:11,185: INFO] stock table schema created successfully.
[2025-04-28 16:28:11,191: INFO] all_stock table schema created successfully.
[2025-04-28 16:28:11,191: INFO] Stock database schema initialized.
[2025-04-28 16:28:11,199: INFO] Users table verified.
[2025-04-28 16:28:11,205: INFO] Database schema created successfully.
[2025-04-28 16:28:11,212: INFO] Image database schema created successfully.
[2025-04-28 16:28:11,220: INFO] Database schema created successfully.
[2025-04-28 16:28:13,423: INFO] GroceryAnalyzer initialized
[2025-04-28 16:28:25,827: INFO] Logger initialized
[2025-04-28 16:28:25,827: ERROR] Error
[2025-04-28 16:28:25,827: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:28:25,827: WARNING] Warning
[2025-04-28 16:28:25,827: CRITICAL] Critical
[2025-04-28 16:28:32,188: INFO] Users table verified.
[2025-04-28 16:28:32,196: INFO] stockimages table schema created successfully.
[2025-04-28 16:28:32,203: INFO] stock table schema created successfully.
[2025-04-28 16:28:32,211: INFO] all_stock table schema created successfully.
[2025-04-28 16:28:32,211: INFO] Stock database schema initialized.
[2025-04-28 16:28:32,219: INFO] Users table verified.
[2025-04-28 16:28:32,226: INFO] Database schema created successfully.
[2025-04-28 16:28:32,233: INFO] Image database schema created successfully.
[2025-04-28 16:28:32,241: INFO] Database schema created successfully.
[2025-04-28 16:28:34,450: INFO] GroceryAnalyzer initialized
[2025-04-28 16:29:53,709: INFO] Logger initialized
[2025-04-28 16:29:53,709: ERROR] Error
[2025-04-28 16:29:53,709: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:29:53,709: WARNING] Warning
[2025-04-28 16:29:53,709: CRITICAL] Critical
[2025-04-28 16:30:01,472: INFO] Users table verified.
[2025-04-28 16:30:01,479: INFO] stockimages table schema created successfully.
[2025-04-28 16:30:01,485: INFO] stock table schema created successfully.
[2025-04-28 16:30:01,492: INFO] all_stock table schema created successfully.
[2025-04-28 16:30:01,492: INFO] Stock database schema initialized.
[2025-04-28 16:30:01,499: INFO] Users table verified.
[2025-04-28 16:30:01,506: INFO] Database schema created successfully.
[2025-04-28 16:30:01,513: INFO] Image database schema created successfully.
[2025-04-28 16:30:01,519: INFO] Database schema created successfully.
[2025-04-28 16:30:04,364: INFO] GroceryAnalyzer initialized
[2025-04-28 16:30:21,245: INFO] Logger initialized
[2025-04-28 16:30:21,245: ERROR] Error
[2025-04-28 16:30:21,245: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:30:21,245: WARNING] Warning
[2025-04-28 16:30:21,245: CRITICAL] Critical
[2025-04-28 16:30:27,204: INFO] Users table verified.
[2025-04-28 16:30:27,212: INFO] stockimages table schema created successfully.
[2025-04-28 16:30:27,219: INFO] stock table schema created successfully.
[2025-04-28 16:30:27,226: INFO] all_stock table schema created successfully.
[2025-04-28 16:30:27,226: INFO] Stock database schema initialized.
[2025-04-28 16:30:27,233: INFO] Users table verified.
[2025-04-28 16:30:27,240: INFO] Database schema created successfully.
[2025-04-28 16:30:27,248: INFO] Image database schema created successfully.
[2025-04-28 16:30:27,254: INFO] Database schema created successfully.
[2025-04-28 16:30:30,057: INFO] GroceryAnalyzer initialized
[2025-04-28 16:31:26,236: INFO] Logger initialized
[2025-04-28 16:31:26,237: ERROR] Error
[2025-04-28 16:31:26,237: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:31:26,237: WARNING] Warning
[2025-04-28 16:31:26,237: CRITICAL] Critical
[2025-04-28 16:31:33,727: INFO] Users table verified.
[2025-04-28 16:31:33,735: INFO] stockimages table schema created successfully.
[2025-04-28 16:31:33,743: INFO] stock table schema created successfully.
[2025-04-28 16:31:33,751: INFO] all_stock table schema created successfully.
[2025-04-28 16:31:33,751: INFO] Stock database schema initialized.
[2025-04-28 16:31:33,759: INFO] Users table verified.
[2025-04-28 16:31:33,767: INFO] Database schema created successfully.
[2025-04-28 16:31:33,774: INFO] Image database schema created successfully.
[2025-04-28 16:31:33,781: INFO] Database schema created successfully.
[2025-04-28 16:31:37,513: INFO] GroceryAnalyzer initialized
[2025-04-28 16:38:47,582: INFO] Logger initialized
[2025-04-28 16:38:47,583: ERROR] Error
[2025-04-28 16:38:47,584: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:38:47,584: WARNING] Warning
[2025-04-28 16:38:47,584: CRITICAL] Critical
[2025-04-28 16:38:55,764: INFO] Users table verified.
[2025-04-28 16:38:55,773: INFO] stockimages table schema created successfully.
[2025-04-28 16:38:55,780: INFO] stock table schema created successfully.
[2025-04-28 16:38:55,787: INFO] all_stock table schema created successfully.
[2025-04-28 16:38:55,787: INFO] Stock database schema initialized.
[2025-04-28 16:38:55,794: INFO] Users table verified.
[2025-04-28 16:38:55,801: INFO] Database schema created successfully.
[2025-04-28 16:38:55,807: INFO] Image database schema created successfully.
[2025-04-28 16:38:55,814: INFO] Database schema created successfully.
[2025-04-28 16:38:58,497: INFO] GroceryAnalyzer initialized
[2025-04-28 16:39:57,008: INFO] Logger initialized
[2025-04-28 16:39:57,008: ERROR] Error
[2025-04-28 16:39:57,008: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:39:57,008: WARNING] Warning
[2025-04-28 16:39:57,008: CRITICAL] Critical
[2025-04-28 16:40:04,503: INFO] Users table verified.
[2025-04-28 16:40:04,510: INFO] stockimages table schema created successfully.
[2025-04-28 16:40:04,517: INFO] stock table schema created successfully.
[2025-04-28 16:40:04,524: INFO] all_stock table schema created successfully.
[2025-04-28 16:40:04,524: INFO] Stock database schema initialized.
[2025-04-28 16:40:04,531: INFO] Users table verified.
[2025-04-28 16:40:04,537: INFO] Database schema created successfully.
[2025-04-28 16:40:04,543: INFO] Image database schema created successfully.
[2025-04-28 16:40:04,550: INFO] Database schema created successfully.
[2025-04-28 16:40:07,109: INFO] GroceryAnalyzer initialized
[2025-04-28 16:43:08,526: INFO] Logger initialized
[2025-04-28 16:43:08,528: ERROR] Error
[2025-04-28 16:43:08,528: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:43:08,528: WARNING] Warning
[2025-04-28 16:43:08,528: CRITICAL] Critical
[2025-04-28 16:43:16,354: INFO] Users table verified.
[2025-04-28 16:43:16,362: INFO] stockimages table schema created successfully.
[2025-04-28 16:43:16,369: INFO] stock table schema created successfully.
[2025-04-28 16:43:16,376: INFO] all_stock table schema created successfully.
[2025-04-28 16:43:16,377: INFO] Stock database schema initialized.
[2025-04-28 16:43:16,385: INFO] Users table verified.
[2025-04-28 16:43:16,392: INFO] Database schema created successfully.
[2025-04-28 16:43:16,398: INFO] Image database schema created successfully.
[2025-04-28 16:43:16,405: INFO] Database schema created successfully.
[2025-04-28 16:43:19,113: INFO] GroceryAnalyzer initialized
[2025-04-28 16:45:29,870: INFO] Logger initialized
[2025-04-28 16:45:29,871: ERROR] Error
[2025-04-28 16:45:29,871: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:45:29,871: WARNING] Warning
[2025-04-28 16:45:29,871: CRITICAL] Critical
[2025-04-28 16:45:39,060: INFO] Users table verified.
[2025-04-28 16:45:39,069: INFO] stockimages table schema created successfully.
[2025-04-28 16:45:39,076: INFO] stock table schema created successfully.
[2025-04-28 16:45:39,084: INFO] all_stock table schema created successfully.
[2025-04-28 16:45:39,084: INFO] Stock database schema initialized.
[2025-04-28 16:45:39,092: INFO] Users table verified.
[2025-04-28 16:45:39,100: INFO] Database schema created successfully.
[2025-04-28 16:45:39,107: INFO] Image database schema created successfully.
[2025-04-28 16:45:39,115: INFO] Database schema created successfully.
[2025-04-28 16:45:41,537: INFO] GroceryAnalyzer initialized
[2025-04-28 16:47:45,861: INFO] Logger initialized
[2025-04-28 16:47:45,861: ERROR] Error
[2025-04-28 16:47:45,861: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:47:45,861: WARNING] Warning
[2025-04-28 16:47:45,861: CRITICAL] Critical
[2025-04-28 16:47:52,493: INFO] Users table verified.
[2025-04-28 16:47:52,501: INFO] stockimages table schema created successfully.
[2025-04-28 16:47:52,508: INFO] stock table schema created successfully.
[2025-04-28 16:47:52,515: INFO] all_stock table schema created successfully.
[2025-04-28 16:47:52,515: INFO] Stock database schema initialized.
[2025-04-28 16:47:52,522: INFO] Users table verified.
[2025-04-28 16:47:52,529: INFO] Database schema created successfully.
[2025-04-28 16:47:52,535: INFO] Image database schema created successfully.
[2025-04-28 16:47:52,542: INFO] Database schema created successfully.
[2025-04-28 16:47:54,682: INFO] GroceryAnalyzer initialized
[2025-04-28 16:48:26,727: INFO] Logger initialized
[2025-04-28 16:48:26,728: ERROR] Error
[2025-04-28 16:48:26,728: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:48:26,728: WARNING] Warning
[2025-04-28 16:48:26,728: CRITICAL] Critical
[2025-04-28 16:48:32,754: INFO] Users table verified.
[2025-04-28 16:48:32,762: INFO] stockimages table schema created successfully.
[2025-04-28 16:48:32,770: INFO] stock table schema created successfully.
[2025-04-28 16:48:32,778: INFO] all_stock table schema created successfully.
[2025-04-28 16:48:32,778: INFO] Stock database schema initialized.
[2025-04-28 16:48:32,785: INFO] Users table verified.
[2025-04-28 16:48:32,793: INFO] Database schema created successfully.
[2025-04-28 16:48:32,799: INFO] Image database schema created successfully.
[2025-04-28 16:48:32,806: INFO] Database schema created successfully.
[2025-04-28 16:48:34,734: INFO] GroceryAnalyzer initialized
[2025-04-28 16:48:49,724: INFO] Logger initialized
[2025-04-28 16:48:49,725: ERROR] Error
[2025-04-28 16:48:49,725: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:48:49,725: WARNING] Warning
[2025-04-28 16:48:49,725: CRITICAL] Critical
[2025-04-28 16:48:57,349: INFO] Users table verified.
[2025-04-28 16:48:57,358: INFO] stockimages table schema created successfully.
[2025-04-28 16:48:57,365: INFO] stock table schema created successfully.
[2025-04-28 16:48:57,374: INFO] all_stock table schema created successfully.
[2025-04-28 16:48:57,374: INFO] Stock database schema initialized.
[2025-04-28 16:48:57,382: INFO] Users table verified.
[2025-04-28 16:48:57,391: INFO] Database schema created successfully.
[2025-04-28 16:48:57,398: INFO] Image database schema created successfully.
[2025-04-28 16:48:57,406: INFO] Database schema created successfully.
[2025-04-28 16:48:59,937: INFO] GroceryAnalyzer initialized
[2025-04-28 16:50:05,598: INFO] Logger initialized
[2025-04-28 16:50:05,599: ERROR] Error
[2025-04-28 16:50:05,599: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:50:05,599: WARNING] Warning
[2025-04-28 16:50:05,599: CRITICAL] Critical
[2025-04-28 16:50:11,844: INFO] Users table verified.
[2025-04-28 16:50:11,854: INFO] stockimages table schema created successfully.
[2025-04-28 16:50:11,863: INFO] stock table schema created successfully.
[2025-04-28 16:50:11,872: INFO] all_stock table schema created successfully.
[2025-04-28 16:50:11,872: INFO] Stock database schema initialized.
[2025-04-28 16:50:11,881: INFO] Users table verified.
[2025-04-28 16:50:11,888: INFO] Database schema created successfully.
[2025-04-28 16:50:11,896: INFO] Image database schema created successfully.
[2025-04-28 16:50:11,903: INFO] Database schema created successfully.
[2025-04-28 16:50:13,806: INFO] GroceryAnalyzer initialized
[2025-04-28 16:50:14,093: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 16:50:14,956: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 16:50:18,457: INFO] User with email 'cyrileze123@gmail.com' authenticated successfully.
[2025-04-28 16:50:18,464: INFO] User with email 'cyrileze123@gmail.com' fetched successfully.
[2025-04-28 16:50:18,465: INFO] User logged in successfully
[2025-04-28 16:50:19,345: INFO] User with ID '6' fetched successfully.
[2025-04-28 16:50:21,656: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 16:52:16,728: INFO] Logger initialized
[2025-04-28 16:52:16,728: ERROR] Error
[2025-04-28 16:52:16,728: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 16:52:16,728: WARNING] Warning
[2025-04-28 16:52:16,729: CRITICAL] Critical
[2025-04-28 16:52:25,624: INFO] Users table verified.
[2025-04-28 16:52:25,633: INFO] stockimages table schema created successfully.
[2025-04-28 16:52:25,640: INFO] stock table schema created successfully.
[2025-04-28 16:52:25,647: INFO] all_stock table schema created successfully.
[2025-04-28 16:52:25,647: INFO] Stock database schema initialized.
[2025-04-28 16:52:25,654: INFO] Users table verified.
[2025-04-28 16:52:25,661: INFO] Database schema created successfully.
[2025-04-28 16:52:25,668: INFO] Image database schema created successfully.
[2025-04-28 16:52:25,676: INFO] Database schema created successfully.
[2025-04-28 16:52:28,478: INFO] GroceryAnalyzer initialized
[2025-04-28 17:38:00,550: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:38:01,353: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:38:02,980: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:39:07,645: INFO] User 'kingshahzy' created with ID: 7
[2025-04-28 17:39:07,673: INFO] User with ID '7' fetched successfully.
[2025-04-28 17:39:47,935: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:39:48,412: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:39:49,988: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:40:14,341: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:40:14,678: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:40:24,342: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-28 17:40:24,349: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-28 17:40:24,350: INFO] User logged in successfully
[2025-04-28 17:40:45,621: INFO] User with ID '7' fetched successfully.
[2025-04-28 17:41:37,710: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x10914a700> at 0x1313c7080> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x10914a700> at 0x1313c7080> was created in a different Context
[2025-04-28 17:43:15,653: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x10914a700> at 0x1315dcd80> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x10914a700> at 0x1315dcd80> was created in a different Context
[2025-04-28 17:44:49,317: INFO] Logger initialized
[2025-04-28 17:44:49,318: ERROR] Error
[2025-04-28 17:44:49,318: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:44:49,318: WARNING] Warning
[2025-04-28 17:44:49,318: CRITICAL] Critical
[2025-04-28 17:45:51,436: INFO] User with ID '7' not found.
[2025-04-28 17:46:11,256: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:46:11,696: INFO] Users table verified.
[2025-04-28 17:46:11,705: INFO] stockimages table schema created successfully.
[2025-04-28 17:46:11,713: INFO] stock table schema created successfully.
[2025-04-28 17:46:11,721: INFO] all_stock table schema created successfully.
[2025-04-28 17:46:11,721: INFO] Stock database schema initialized.
[2025-04-28 17:46:11,729: INFO] Users table verified.
[2025-04-28 17:46:11,736: INFO] Database schema created successfully.
[2025-04-28 17:46:11,749: INFO] Image database schema created successfully.
[2025-04-28 17:46:11,758: INFO] Database schema created successfully.
[2025-04-28 17:46:12,130: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:46:13,844: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:46:14,972: INFO] GroceryAnalyzer initialized
[2025-04-28 17:47:06,110: INFO] User 'kingshahzy' created with ID: 8
[2025-04-28 17:47:06,142: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:48:14,536: INFO] Logger initialized
[2025-04-28 17:48:14,536: ERROR] Error
[2025-04-28 17:48:14,536: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:48:14,536: WARNING] Warning
[2025-04-28 17:48:14,536: CRITICAL] Critical
[2025-04-28 17:49:36,454: INFO] Users table verified.
[2025-04-28 17:49:36,465: INFO] stockimages table schema created successfully.
[2025-04-28 17:49:36,473: INFO] stock table schema created successfully.
[2025-04-28 17:49:36,484: INFO] all_stock table schema created successfully.
[2025-04-28 17:49:36,484: INFO] Stock database schema initialized.
[2025-04-28 17:49:36,493: INFO] Users table verified.
[2025-04-28 17:49:36,504: INFO] Database schema created successfully.
[2025-04-28 17:49:36,516: INFO] Image database schema created successfully.
[2025-04-28 17:49:36,532: INFO] Database schema created successfully.
[2025-04-28 17:49:39,593: INFO] GroceryAnalyzer initialized
[2025-04-28 17:49:39,965: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:39,966: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:39,968: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:39,968: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:39,974: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:39,978: INFO] User with ID '8' fetched successfully.
[2025-04-28 17:49:40,001: ERROR] Database error: Failed getting connection; pool exhausted
[2025-04-28 17:49:41,463: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 17:52:10,024: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12a6da2c0> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12a6da2c0> was created in a different Context
[2025-04-28 17:52:10,026: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0d400> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0d400> was created in a different Context
[2025-04-28 17:52:10,026: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12befccc0> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12befccc0> was created in a different Context
[2025-04-28 17:52:10,027: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0cf40> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0cf40> was created in a different Context
[2025-04-28 17:52:10,038: ERROR] Unhandled error: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0c3c0> was created in a different Context
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/main.py", line 412, in dashboard
    email_sender.send_grocery_summary(app_context,session['email'],low_stock_items=low_stock,expiring_soon=expiring_soon)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/db_managers/email_sender.py", line 99, in send_grocery_summary
    with app_context:  # Flask app context, if needed
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 284, in __exit__
    self.pop(exc_value)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 265, in pop
    _cv_app.reset(self._cv_tokens.pop())
ValueError: <Token var=<ContextVar name='flask.app_ctx' at 0x103aae6b0> at 0x12bf0c3c0> was created in a different Context
[2025-04-28 17:55:57,549: INFO] Logger initialized
[2025-04-28 17:55:57,549: ERROR] Error
[2025-04-28 17:55:57,549: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:55:57,549: WARNING] Warning
[2025-04-28 17:55:57,549: CRITICAL] Critical
[2025-04-28 17:56:04,822: INFO] Users table verified.
[2025-04-28 17:56:04,837: INFO] stockimages table schema created successfully.
[2025-04-28 17:56:04,847: INFO] stock table schema created successfully.
[2025-04-28 17:56:04,857: INFO] all_stock table schema created successfully.
[2025-04-28 17:56:04,857: INFO] Stock database schema initialized.
[2025-04-28 17:56:04,869: INFO] Users table verified.
[2025-04-28 17:56:04,878: INFO] Database schema created successfully.
[2025-04-28 17:56:04,889: INFO] Image database schema created successfully.
[2025-04-28 17:56:04,898: INFO] Database schema created successfully.
[2025-04-28 17:56:07,481: INFO] GroceryAnalyzer initialized
[2025-04-28 17:56:38,448: INFO] Logger initialized
[2025-04-28 17:56:38,448: ERROR] Error
[2025-04-28 17:56:38,448: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:56:38,448: WARNING] Warning
[2025-04-28 17:56:38,448: CRITICAL] Critical
[2025-04-28 17:56:45,559: INFO] Users table verified.
[2025-04-28 17:56:45,568: INFO] stockimages table schema created successfully.
[2025-04-28 17:56:45,576: INFO] stock table schema created successfully.
[2025-04-28 17:56:45,584: INFO] all_stock table schema created successfully.
[2025-04-28 17:56:45,584: INFO] Stock database schema initialized.
[2025-04-28 17:56:45,593: INFO] Users table verified.
[2025-04-28 17:56:45,602: INFO] Database schema created successfully.
[2025-04-28 17:56:45,609: INFO] Image database schema created successfully.
[2025-04-28 17:56:45,617: INFO] Database schema created successfully.
[2025-04-28 17:56:48,263: INFO] GroceryAnalyzer initialized
[2025-04-28 17:58:49,868: INFO] Logger initialized
[2025-04-28 17:58:49,868: ERROR] Error
[2025-04-28 17:58:49,869: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:58:49,869: WARNING] Warning
[2025-04-28 17:58:49,869: CRITICAL] Critical
[2025-04-28 17:58:57,470: INFO] Users table verified.
[2025-04-28 17:58:57,478: INFO] stockimages table schema created successfully.
[2025-04-28 17:58:57,485: INFO] stock table schema created successfully.
[2025-04-28 17:58:57,492: INFO] all_stock table schema created successfully.
[2025-04-28 17:58:57,492: INFO] Stock database schema initialized.
[2025-04-28 17:58:57,500: INFO] Users table verified.
[2025-04-28 17:58:57,507: INFO] Database schema created successfully.
[2025-04-28 17:58:57,514: INFO] Image database schema created successfully.
[2025-04-28 17:58:57,521: INFO] Database schema created successfully.
[2025-04-28 17:59:00,252: INFO] GroceryAnalyzer initialized
[2025-04-28 17:59:05,902: INFO] Logger initialized
[2025-04-28 17:59:05,902: ERROR] Error
[2025-04-28 17:59:05,902: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 17:59:05,903: WARNING] Warning
[2025-04-28 17:59:05,903: CRITICAL] Critical
[2025-04-28 17:59:13,189: INFO] Users table verified.
[2025-04-28 17:59:13,201: INFO] stockimages table schema created successfully.
[2025-04-28 17:59:13,211: INFO] stock table schema created successfully.
[2025-04-28 17:59:13,222: INFO] all_stock table schema created successfully.
[2025-04-28 17:59:13,222: INFO] Stock database schema initialized.
[2025-04-28 17:59:13,234: INFO] Users table verified.
[2025-04-28 17:59:13,245: INFO] Database schema created successfully.
[2025-04-28 17:59:13,258: INFO] Image database schema created successfully.
[2025-04-28 17:59:13,272: INFO] Database schema created successfully.
[2025-04-28 17:59:15,773: INFO] GroceryAnalyzer initialized
[2025-04-28 18:00:10,016: INFO] Logger initialized
[2025-04-28 18:00:10,016: ERROR] Error
[2025-04-28 18:00:10,016: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:00:10,016: WARNING] Warning
[2025-04-28 18:00:10,017: CRITICAL] Critical
[2025-04-28 18:00:16,215: INFO] Users table verified.
[2025-04-28 18:00:16,223: INFO] stockimages table schema created successfully.
[2025-04-28 18:00:16,231: INFO] stock table schema created successfully.
[2025-04-28 18:00:16,240: INFO] all_stock table schema created successfully.
[2025-04-28 18:00:16,240: INFO] Stock database schema initialized.
[2025-04-28 18:00:16,248: INFO] Users table verified.
[2025-04-28 18:00:16,256: INFO] Database schema created successfully.
[2025-04-28 18:00:16,265: INFO] Image database schema created successfully.
[2025-04-28 18:00:16,272: INFO] Database schema created successfully.
[2025-04-28 18:00:18,349: INFO] GroceryAnalyzer initialized
[2025-04-28 18:00:44,133: INFO] Logger initialized
[2025-04-28 18:00:44,134: ERROR] Error
[2025-04-28 18:00:44,134: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:00:44,134: WARNING] Warning
[2025-04-28 18:00:44,134: CRITICAL] Critical
[2025-04-28 18:00:51,194: INFO] Users table verified.
[2025-04-28 18:00:51,218: INFO] stockimages table schema created successfully.
[2025-04-28 18:00:51,225: INFO] stock table schema created successfully.
[2025-04-28 18:00:51,233: INFO] all_stock table schema created successfully.
[2025-04-28 18:00:51,233: INFO] Stock database schema initialized.
[2025-04-28 18:00:51,240: INFO] Users table verified.
[2025-04-28 18:00:51,247: INFO] Database schema created successfully.
[2025-04-28 18:00:51,254: INFO] Image database schema created successfully.
[2025-04-28 18:00:51,261: INFO] Database schema created successfully.
[2025-04-28 18:00:53,661: INFO] GroceryAnalyzer initialized
[2025-04-28 18:03:06,218: INFO] Logger initialized
[2025-04-28 18:03:06,218: ERROR] Error
[2025-04-28 18:03:06,219: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:03:06,219: WARNING] Warning
[2025-04-28 18:03:06,219: CRITICAL] Critical
[2025-04-28 18:03:13,563: INFO] Users table verified.
[2025-04-28 18:03:13,573: INFO] stockimages table schema created successfully.
[2025-04-28 18:03:13,581: INFO] stock table schema created successfully.
[2025-04-28 18:03:13,588: INFO] all_stock table schema created successfully.
[2025-04-28 18:03:13,589: INFO] Stock database schema initialized.
[2025-04-28 18:03:13,596: INFO] Users table verified.
[2025-04-28 18:03:13,603: INFO] Database schema created successfully.
[2025-04-28 18:03:13,610: INFO] Image database schema created successfully.
[2025-04-28 18:03:13,617: INFO] Database schema created successfully.
[2025-04-28 18:03:16,417: INFO] GroceryAnalyzer initialized
[2025-04-28 18:09:16,522: DEBUG] Latest filename: None
[2025-04-28 18:09:16,533: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:09:17,403: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:09:19,548: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:09:20,873: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:09:36,545: INFO] Logger initialized
[2025-04-28 18:09:36,545: ERROR] Error
[2025-04-28 18:09:36,545: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:09:36,545: WARNING] Warning
[2025-04-28 18:09:36,546: CRITICAL] Critical
[2025-04-28 18:09:44,103: INFO] Users table verified.
[2025-04-28 18:09:44,111: INFO] stockimages table schema created successfully.
[2025-04-28 18:09:44,119: INFO] stock table schema created successfully.
[2025-04-28 18:09:44,128: INFO] all_stock table schema created successfully.
[2025-04-28 18:09:44,128: INFO] Stock database schema initialized.
[2025-04-28 18:09:44,135: INFO] Users table verified.
[2025-04-28 18:09:44,144: INFO] Database schema created successfully.
[2025-04-28 18:09:44,151: INFO] Image database schema created successfully.
[2025-04-28 18:09:44,158: INFO] Database schema created successfully.
[2025-04-28 18:09:46,944: INFO] GroceryAnalyzer initialized
[2025-04-28 18:10:16,327: INFO] Logger initialized
[2025-04-28 18:10:16,327: ERROR] Error
[2025-04-28 18:10:16,327: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:10:16,327: WARNING] Warning
[2025-04-28 18:10:16,327: CRITICAL] Critical
[2025-04-28 18:10:21,563: INFO] Users table verified.
[2025-04-28 18:10:21,572: INFO] stockimages table schema created successfully.
[2025-04-28 18:10:21,581: INFO] stock table schema created successfully.
[2025-04-28 18:10:21,590: INFO] all_stock table schema created successfully.
[2025-04-28 18:10:21,590: INFO] Stock database schema initialized.
[2025-04-28 18:10:21,598: INFO] Users table verified.
[2025-04-28 18:10:21,607: INFO] Database schema created successfully.
[2025-04-28 18:10:21,614: INFO] Image database schema created successfully.
[2025-04-28 18:10:21,624: INFO] Database schema created successfully.
[2025-04-28 18:10:23,597: INFO] GroceryAnalyzer initialized
[2025-04-28 18:10:40,158: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:10:40,561: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:10:41,823: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:10:54,902: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-28 18:10:54,910: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-28 18:10:54,910: INFO] User logged in successfully
[2025-04-28 18:10:56,021: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:10:57,398: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:11:47,011: INFO] Logger initialized
[2025-04-28 18:11:47,011: ERROR] Error
[2025-04-28 18:11:47,011: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-28 18:11:47,011: WARNING] Warning
[2025-04-28 18:11:47,011: CRITICAL] Critical
[2025-04-28 18:11:54,348: INFO] Users table verified.
[2025-04-28 18:11:54,356: INFO] stockimages table schema created successfully.
[2025-04-28 18:11:54,363: INFO] stock table schema created successfully.
[2025-04-28 18:11:54,371: INFO] all_stock table schema created successfully.
[2025-04-28 18:11:54,371: INFO] Stock database schema initialized.
[2025-04-28 18:11:54,379: INFO] Users table verified.
[2025-04-28 18:11:54,387: INFO] Database schema created successfully.
[2025-04-28 18:11:54,394: INFO] Image database schema created successfully.
[2025-04-28 18:11:54,401: INFO] Database schema created successfully.
[2025-04-28 18:11:56,887: INFO] GroceryAnalyzer initialized
[2025-04-28 18:14:46,300: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:14:47,881: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:14:57,280: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:14:57,601: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:22:34,165: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:22:37,537: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-28 18:22:37,544: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-28 18:22:37,545: INFO] User logged in successfully
[2025-04-28 18:22:38,500: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:22:39,305: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-28 18:22:39,315: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-28 18:22:39,315: INFO] User logged in successfully
[2025-04-28 18:22:40,286: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:22:55,803: DEBUG] Latest filename: None
[2025-04-28 18:22:55,813: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:22:56,161: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:23:32,054: DEBUG] Saved file: /Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/uploads/af133be0aab8467995edd00e59f05190.jpg, exists: True
[2025-04-28 18:23:32,055: INFO] Receipt image read successfully.
[2025-04-28 18:23:34,335: INFO] Processed item: name='NFS Grocery' quantity=1 weight=1.0 category='Grocery' price=3.25 purchase_date='2010-11-08' expiration_date='2010-11-15'
[2025-04-28 18:23:34,335: INFO] Processed item: name='Produce' quantity=1 weight=1.0 category='Produce' price=5.5 purchase_date='2010-11-08' expiration_date='2010-11-15'
[2025-04-28 18:23:34,349: INFO] Saved 2 items to receipts linked to receipt ID: 52
[2025-04-28 18:23:34,358: INFO] Saved image path to database: af133be0aab8467995edd00e59f05190.jpg linked to receipt ID: 52
[2025-04-28 18:23:34,358: INFO] Processed 2 receipt items
[2025-04-28 18:23:34,394: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-28 18:23:34,647: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:23:45,910: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:23:47,556: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:25:53,864: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-28 18:25:53,874: INFO] Fetched latest filename for user 8: None
[2025-04-28 18:25:53,874: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-28 18:25:54,231: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:26:00,496: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:26:01,686: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:29:39,727: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:29:42,429: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:30:00,097: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:30:00,134: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-28 18:30:00,310: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:30:03,693: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-28 18:30:03,702: INFO] Fetched latest filename for user 8: None
[2025-04-28 18:30:03,702: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-28 18:30:03,932: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:30:06,285: DEBUG] Entering /chat route
[2025-04-28 18:30:06,285: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'seafood', 'csrf_token': 'cdf021558e2b3e96bf8426bf05dff1a9e30c68f0', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'last_receipt_file': 'af133be0aab8467995edd00e59f05190.jpg', 'last_receipt_id': 52, 'receipt_items': [{'category': 'Grocery', 'expiration_date': '2010-11-15', 'name': 'NFS Grocery', 'price': 3.25, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}, {'category': 'Produce', 'expiration_date': '2010-11-15', 'name': 'Produce', 'price': 5.5, 'purchase_date': '2010-11-08', 'quantity': 1, 'weight': 1.0}], 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-28 18:30:06,286: DEBUG] Chat history: 0 messages
[2025-04-28 18:30:06,286: DEBUG] Handling GET request
[2025-04-28 18:30:06,516: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:30:10,180: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:30:11,404: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 18:46:51,718: INFO] User with ID '8' fetched successfully.
[2025-04-28 18:46:51,757: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-28 18:46:52,126: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 23:55:56,400: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 23:55:57,471: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 23:55:59,140: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 23:56:02,783: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-28 23:56:02,794: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-28 23:56:02,795: INFO] User logged in successfully
[2025-04-28 23:56:04,503: INFO] User with ID '8' fetched successfully.
[2025-04-28 23:56:06,951: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-28 23:56:09,314: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-28 23:56:09,327: INFO] User with ID '8' fetched successfully.
[2025-04-28 23:56:09,369: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-28 23:56:09,570: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:09:20,431: INFO] Logger initialized
[2025-04-30 00:09:20,433: ERROR] Error
[2025-04-30 00:09:20,433: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 00:09:20,433: WARNING] Warning
[2025-04-30 00:09:20,433: CRITICAL] Critical
[2025-04-30 00:09:29,457: INFO] Users table verified.
[2025-04-30 00:09:29,475: INFO] stockimages table schema created successfully.
[2025-04-30 00:09:29,490: INFO] stock table schema created successfully.
[2025-04-30 00:09:29,502: INFO] all_stock table schema created successfully.
[2025-04-30 00:09:29,502: INFO] Stock database schema initialized.
[2025-04-30 00:09:29,510: INFO] Users table verified.
[2025-04-30 00:09:29,518: INFO] Database schema created successfully.
[2025-04-30 00:09:29,527: INFO] Image database schema created successfully.
[2025-04-30 00:09:29,534: INFO] Database schema created successfully.
[2025-04-30 00:09:34,397: INFO] GroceryAnalyzer initialized
[2025-04-30 00:10:13,558: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:10:14,510: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:10:15,989: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:10:22,552: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 00:10:22,561: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 00:10:22,561: INFO] User logged in successfully
[2025-04-30 00:10:24,345: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:10:24,485: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 00:10:24,494: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 00:10:24,495: INFO] User logged in successfully
[2025-04-30 00:10:26,062: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:10:52,691: ERROR] Unhandled error: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 229, in csrf_protect
    self.protect()
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 264, in protect
    self._error_response(e.args[0])
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask_wtf/csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
[2025-04-30 00:10:52,993: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:10:56,026: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:11:00,824: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:11:00,834: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:11:00,867: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:11:01,059: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:11:06,329: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:11:06,338: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:11:06,339: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:11:06,568: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:11:09,645: DEBUG] Entering /chat route
[2025-04-30 00:11:09,646: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'seafood', 'csrf_token': 'fd8bf6b7965ac1a0a5aac69185c8420550b1af38', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 00:11:09,647: DEBUG] Chat history: 0 messages
[2025-04-30 00:11:09,648: DEBUG] Handling GET request
[2025-04-30 00:11:09,886: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:11:12,237: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:11:12,248: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:11:12,248: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:11:12,471: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:11:13,174: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:11:13,186: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:11:13,241: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:11:13,459: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:24:04,533: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:24:04,546: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:24:04,546: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:24:05,310: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:33,288: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:33,301: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:34:33,377: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:34,114: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:35,347: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:34:37,249: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:38,679: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:38,686: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:34:38,720: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:38,915: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:40,131: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:34:40,143: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:34:40,143: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:34:40,381: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:41,693: DEBUG] Entering /chat route
[2025-04-30 00:34:41,694: DEBUG] Session data: <SecureCookieSession {'_flashes': [('danger', 'An unexpected error occurred')], 'age': None, 'allergies': 'seafood', 'csrf_token': 'fd8bf6b7965ac1a0a5aac69185c8420550b1af38', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 00:34:41,694: DEBUG] Chat history: 0 messages
[2025-04-30 00:34:41,694: DEBUG] Handling GET request
[2025-04-30 00:34:41,912: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:43,262: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:34:43,271: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:34:43,271: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:34:43,485: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:44,520: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:44,531: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:34:44,630: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:34:44,834: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:34:45,877: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:34:48,452: ERROR] Unhandled error: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/groc-venv/lib/python3.11/site-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2025-04-30 00:37:33,424: INFO] Logger initialized
[2025-04-30 00:37:33,425: ERROR] Error
[2025-04-30 00:37:33,425: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 00:37:33,425: WARNING] Warning
[2025-04-30 00:37:33,425: CRITICAL] Critical
[2025-04-30 00:37:40,291: INFO] Users table verified.
[2025-04-30 00:37:40,302: INFO] stockimages table schema created successfully.
[2025-04-30 00:37:40,312: INFO] stock table schema created successfully.
[2025-04-30 00:37:40,323: INFO] all_stock table schema created successfully.
[2025-04-30 00:37:40,323: INFO] Stock database schema initialized.
[2025-04-30 00:37:40,335: INFO] Users table verified.
[2025-04-30 00:37:40,345: INFO] Database schema created successfully.
[2025-04-30 00:37:40,355: INFO] Image database schema created successfully.
[2025-04-30 00:37:40,367: INFO] Database schema created successfully.
[2025-04-30 00:37:43,337: INFO] GroceryAnalyzer initialized
[2025-04-30 00:37:43,620: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:37:43,629: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:37:44,343: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:37:54,469: INFO] Logger initialized
[2025-04-30 00:37:54,469: ERROR] Error
[2025-04-30 00:37:54,469: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 00:37:54,470: WARNING] Warning
[2025-04-30 00:37:54,470: CRITICAL] Critical
[2025-04-30 00:38:01,462: INFO] Users table verified.
[2025-04-30 00:38:01,470: INFO] stockimages table schema created successfully.
[2025-04-30 00:38:01,476: INFO] stock table schema created successfully.
[2025-04-30 00:38:01,483: INFO] all_stock table schema created successfully.
[2025-04-30 00:38:01,483: INFO] Stock database schema initialized.
[2025-04-30 00:38:01,490: INFO] Users table verified.
[2025-04-30 00:38:01,496: INFO] Database schema created successfully.
[2025-04-30 00:38:01,503: INFO] Image database schema created successfully.
[2025-04-30 00:38:01,510: INFO] Database schema created successfully.
[2025-04-30 00:38:04,321: INFO] GroceryAnalyzer initialized
[2025-04-30 00:38:08,116: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:38:15,998: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:38:16,018: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:38:16,061: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:38:24,878: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:38:24,888: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:38:24,888: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:38:26,388: DEBUG] Entering /chat route
[2025-04-30 00:38:26,389: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': 'fd8bf6b7965ac1a0a5aac69185c8420550b1af38', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 00:38:26,393: DEBUG] Chat history: 0 messages
[2025-04-30 00:38:26,393: DEBUG] Handling GET request
[2025-04-30 00:38:28,173: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:38:28,185: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:38:28,185: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:38:29,029: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:38:29,042: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:38:29,157: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:38:30,115: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:38:33,472: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:39:28,436: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:40:35,596: INFO] Logger initialized
[2025-04-30 00:40:35,596: ERROR] Error
[2025-04-30 00:40:35,596: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 00:40:35,597: WARNING] Warning
[2025-04-30 00:40:35,597: CRITICAL] Critical
[2025-04-30 00:40:42,357: INFO] Users table verified.
[2025-04-30 00:40:42,366: INFO] stockimages table schema created successfully.
[2025-04-30 00:40:42,374: INFO] stock table schema created successfully.
[2025-04-30 00:40:42,382: INFO] all_stock table schema created successfully.
[2025-04-30 00:40:42,382: INFO] Stock database schema initialized.
[2025-04-30 00:40:42,392: INFO] Users table verified.
[2025-04-30 00:40:42,401: INFO] Database schema created successfully.
[2025-04-30 00:40:42,408: INFO] Image database schema created successfully.
[2025-04-30 00:40:42,416: INFO] Database schema created successfully.
[2025-04-30 00:40:45,135: INFO] GroceryAnalyzer initialized
[2025-04-30 00:49:45,542: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:49:48,766: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:49:48,895: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:49:49,280: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:49:52,441: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:49:52,452: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:49:52,452: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:49:53,783: DEBUG] Entering /chat route
[2025-04-30 00:49:53,784: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': 'fd8bf6b7965ac1a0a5aac69185c8420550b1af38', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 00:49:53,788: DEBUG] Chat history: 0 messages
[2025-04-30 00:49:53,788: DEBUG] Handling GET request
[2025-04-30 00:49:55,184: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:49:55,194: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:49:55,221: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:49:56,104: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:50:11,814: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:50:11,824: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:50:11,856: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:50:25,481: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:50:25,493: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:50:25,493: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:50:28,622: DEBUG] Entering /chat route
[2025-04-30 00:50:28,623: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': 'fd8bf6b7965ac1a0a5aac69185c8420550b1af38', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 00:50:28,624: DEBUG] Chat history: 0 messages
[2025-04-30 00:50:28,624: DEBUG] Handling GET request
[2025-04-30 00:50:30,304: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 00:50:30,318: INFO] Fetched latest filename for user 8: None
[2025-04-30 00:50:30,319: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 00:50:31,330: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:50:31,346: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:50:31,387: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:50:32,747: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:54:29,167: INFO] Logger initialized
[2025-04-30 00:54:29,167: ERROR] Error
[2025-04-30 00:54:29,167: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 00:54:29,167: WARNING] Warning
[2025-04-30 00:54:29,167: CRITICAL] Critical
[2025-04-30 00:54:36,864: INFO] Users table verified.
[2025-04-30 00:54:36,874: INFO] stockimages table schema created successfully.
[2025-04-30 00:54:36,882: INFO] stock table schema created successfully.
[2025-04-30 00:54:36,891: INFO] all_stock table schema created successfully.
[2025-04-30 00:54:36,891: INFO] Stock database schema initialized.
[2025-04-30 00:54:36,900: INFO] Users table verified.
[2025-04-30 00:54:36,908: INFO] Database schema created successfully.
[2025-04-30 00:54:36,917: INFO] Image database schema created successfully.
[2025-04-30 00:54:36,926: INFO] Database schema created successfully.
[2025-04-30 00:54:39,428: INFO] GroceryAnalyzer initialized
[2025-04-30 00:55:48,420: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:56:13,288: DEBUG] Latest filename: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:56:13,298: INFO] User with ID '8' fetched successfully.
[2025-04-30 00:56:13,351: INFO] Serving image: af133be0aab8467995edd00e59f05190.jpg
[2025-04-30 00:57:37,979: DEBUG] Saved file: /Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/uploads/107087fca5644a5c96d64b8509dfb689.jpg, exists: True
[2025-04-30 00:57:37,979: INFO] Receipt image read successfully.
[2025-04-30 00:57:41,154: INFO] Processed item: name='DOZ FREE RANGE EGG' quantity=1 weight=1.0 category='dairy' price=3.89 purchase_date='2019-11-21' expiration_date='2019-11-28'
[2025-04-30 00:57:41,155: INFO] Processed item: name='GV ORGANIC MILK 2%' quantity=1 weight=1.0 category='dairy' price=4.19 purchase_date='2019-11-21' expiration_date='2019-12-05'
[2025-04-30 00:57:41,155: INFO] Processed item: name='SBUX FRENCH ROAST WL' quantity=1 weight=1.0 category='beverage' price=8.99 purchase_date='2019-11-21' expiration_date='2020-02-21'
[2025-04-30 00:57:41,195: INFO] Saved 3 items to receipts linked to receipt ID: 53
[2025-04-30 00:57:41,205: INFO] Saved image path to database: 107087fca5644a5c96d64b8509dfb689.jpg linked to receipt ID: 53
[2025-04-30 00:57:41,206: INFO] Processed 3 receipt items
[2025-04-30 00:57:41,248: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 00:57:45,009: INFO] User with ID '8' fetched successfully.
[2025-04-30 01:05:42,674: INFO] Logger initialized
[2025-04-30 01:05:42,675: ERROR] Error
[2025-04-30 01:05:42,675: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 01:05:42,675: WARNING] Warning
[2025-04-30 01:05:42,675: CRITICAL] Critical
[2025-04-30 01:05:49,782: INFO] Users table verified.
[2025-04-30 01:05:49,794: INFO] stockimages table schema created successfully.
[2025-04-30 01:05:49,802: INFO] stock table schema created successfully.
[2025-04-30 01:05:49,812: INFO] all_stock table schema created successfully.
[2025-04-30 01:05:49,812: INFO] Stock database schema initialized.
[2025-04-30 01:05:49,821: INFO] Users table verified.
[2025-04-30 01:05:49,830: INFO] Database schema created successfully.
[2025-04-30 01:05:49,840: INFO] Image database schema created successfully.
[2025-04-30 01:05:49,849: INFO] Database schema created successfully.
[2025-04-30 01:05:52,297: INFO] GroceryAnalyzer initialized
[2025-04-30 01:05:52,543: INFO] User with ID '8' fetched successfully.
[2025-04-30 01:07:07,834: INFO] User with ID '8' fetched successfully.
[2025-04-30 01:10:31,497: INFO] User with ID '8' fetched successfully.
[2025-04-30 01:44:08,828: INFO] Logger initialized
[2025-04-30 01:44:08,828: ERROR] Error
[2025-04-30 01:44:08,828: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 01:44:08,828: WARNING] Warning
[2025-04-30 01:44:08,828: CRITICAL] Critical
[2025-04-30 01:44:16,012: INFO] Users table verified.
[2025-04-30 01:44:16,021: INFO] stockimages table schema created successfully.
[2025-04-30 01:44:16,031: INFO] stock table schema created successfully.
[2025-04-30 01:44:16,038: INFO] all_stock table schema created successfully.
[2025-04-30 01:44:16,038: INFO] Stock database schema initialized.
[2025-04-30 01:44:16,049: INFO] Users table verified.
[2025-04-30 01:44:16,057: INFO] Database schema created successfully.
[2025-04-30 01:44:16,066: INFO] Image database schema created successfully.
[2025-04-30 01:44:16,074: INFO] Database schema created successfully.
[2025-04-30 01:44:19,006: INFO] GroceryAnalyzer initialized
[2025-04-30 01:58:53,909: INFO] Logger initialized
[2025-04-30 01:58:53,909: ERROR] Error
[2025-04-30 01:58:53,909: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 01:58:53,909: WARNING] Warning
[2025-04-30 01:58:53,909: CRITICAL] Critical
[2025-04-30 01:59:00,871: INFO] Users table verified.
[2025-04-30 01:59:00,879: INFO] stockimages table schema created successfully.
[2025-04-30 01:59:00,887: INFO] stock table schema created successfully.
[2025-04-30 01:59:00,897: INFO] all_stock table schema created successfully.
[2025-04-30 01:59:00,897: INFO] Stock database schema initialized.
[2025-04-30 01:59:00,905: INFO] Users table verified.
[2025-04-30 01:59:00,913: INFO] Database schema created successfully.
[2025-04-30 01:59:00,919: INFO] Image database schema created successfully.
[2025-04-30 01:59:00,926: INFO] Database schema created successfully.
[2025-04-30 01:59:03,658: INFO] GroceryAnalyzer initialized
[2025-04-30 02:04:53,696: INFO] Logger initialized
[2025-04-30 02:04:53,696: ERROR] Error
[2025-04-30 02:04:53,696: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:04:53,696: WARNING] Warning
[2025-04-30 02:04:53,697: CRITICAL] Critical
[2025-04-30 02:05:00,888: INFO] Users table verified.
[2025-04-30 02:05:00,897: INFO] stockimages table schema created successfully.
[2025-04-30 02:05:00,906: INFO] stock table schema created successfully.
[2025-04-30 02:05:00,914: INFO] all_stock table schema created successfully.
[2025-04-30 02:05:00,914: INFO] Stock database schema initialized.
[2025-04-30 02:05:00,922: INFO] Users table verified.
[2025-04-30 02:05:00,931: INFO] Database schema created successfully.
[2025-04-30 02:05:00,938: INFO] Image database schema created successfully.
[2025-04-30 02:05:00,947: INFO] Database schema created successfully.
[2025-04-30 02:05:03,465: INFO] GroceryAnalyzer initialized
[2025-04-30 02:06:28,248: INFO] Logger initialized
[2025-04-30 02:06:28,248: ERROR] Error
[2025-04-30 02:06:28,248: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:06:28,248: WARNING] Warning
[2025-04-30 02:06:28,248: CRITICAL] Critical
[2025-04-30 02:06:35,020: INFO] Users table verified.
[2025-04-30 02:06:35,030: INFO] stockimages table schema created successfully.
[2025-04-30 02:06:35,041: INFO] stock table schema created successfully.
[2025-04-30 02:06:35,051: INFO] all_stock table schema created successfully.
[2025-04-30 02:06:35,051: INFO] Stock database schema initialized.
[2025-04-30 02:06:35,063: INFO] Users table verified.
[2025-04-30 02:06:35,070: INFO] Database schema created successfully.
[2025-04-30 02:06:35,077: INFO] Image database schema created successfully.
[2025-04-30 02:06:35,084: INFO] Database schema created successfully.
[2025-04-30 02:06:37,655: INFO] GroceryAnalyzer initialized
[2025-04-30 02:08:37,052: INFO] Logger initialized
[2025-04-30 02:08:37,053: ERROR] Error
[2025-04-30 02:08:37,053: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:08:37,053: WARNING] Warning
[2025-04-30 02:08:37,053: CRITICAL] Critical
[2025-04-30 02:08:44,258: INFO] Users table verified.
[2025-04-30 02:08:44,268: INFO] stockimages table schema created successfully.
[2025-04-30 02:08:44,279: INFO] stock table schema created successfully.
[2025-04-30 02:08:44,287: INFO] all_stock table schema created successfully.
[2025-04-30 02:08:44,287: INFO] Stock database schema initialized.
[2025-04-30 02:08:44,300: INFO] Users table verified.
[2025-04-30 02:08:44,310: INFO] Database schema created successfully.
[2025-04-30 02:08:44,318: INFO] Image database schema created successfully.
[2025-04-30 02:08:44,327: INFO] Database schema created successfully.
[2025-04-30 02:08:47,926: INFO] GroceryAnalyzer initialized
[2025-04-30 02:08:55,631: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 02:08:55,640: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 02:08:55,641: INFO] User logged in successfully
[2025-04-30 02:08:57,575: INFO] User with ID '8' fetched successfully.
[2025-04-30 02:09:19,016: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 02:09:19,027: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 02:09:19,028: INFO] User logged in successfully
[2025-04-30 02:09:20,326: INFO] User with ID '8' fetched successfully.
[2025-04-30 02:13:17,198: INFO] Logger initialized
[2025-04-30 02:13:17,198: ERROR] Error
[2025-04-30 02:13:17,198: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:13:17,198: WARNING] Warning
[2025-04-30 02:13:17,198: CRITICAL] Critical
[2025-04-30 02:14:35,539: INFO] Logger initialized
[2025-04-30 02:14:35,539: ERROR] Error
[2025-04-30 02:14:35,539: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:14:35,539: WARNING] Warning
[2025-04-30 02:14:35,540: CRITICAL] Critical
[2025-04-30 02:19:18,496: INFO] Logger initialized
[2025-04-30 02:19:18,496: ERROR] Error
[2025-04-30 02:19:18,496: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 02:19:18,496: WARNING] Warning
[2025-04-30 02:19:18,496: CRITICAL] Critical
[2025-04-30 09:38:50,151: INFO] Logger initialized
[2025-04-30 09:38:50,151: ERROR] Error
[2025-04-30 09:38:50,152: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 09:38:50,152: WARNING] Warning
[2025-04-30 09:38:50,152: CRITICAL] Critical
[2025-04-30 09:42:57,576: INFO] Logger initialized
[2025-04-30 09:42:57,576: ERROR] Error
[2025-04-30 09:42:57,576: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 09:42:57,576: WARNING] Warning
[2025-04-30 09:42:57,576: CRITICAL] Critical
[2025-04-30 09:43:05,424: INFO] Users table verified.
[2025-04-30 09:43:05,434: INFO] stockimages table schema created successfully.
[2025-04-30 09:43:05,441: INFO] stock table schema created successfully.
[2025-04-30 09:43:05,449: INFO] all_stock table schema created successfully.
[2025-04-30 09:43:05,450: INFO] Stock database schema initialized.
[2025-04-30 09:43:05,460: INFO] Users table verified.
[2025-04-30 09:43:05,467: INFO] Database schema created successfully.
[2025-04-30 09:43:05,474: INFO] Image database schema created successfully.
[2025-04-30 09:43:05,480: INFO] Database schema created successfully.
[2025-04-30 09:43:08,491: INFO] GroceryAnalyzer initialized
[2025-04-30 09:43:11,676: INFO] Logger initialized
[2025-04-30 09:43:11,676: ERROR] Error
[2025-04-30 09:43:11,676: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 09:43:11,676: WARNING] Warning
[2025-04-30 09:43:11,676: CRITICAL] Critical
[2025-04-30 09:43:19,300: INFO] Users table verified.
[2025-04-30 09:43:19,312: INFO] stockimages table schema created successfully.
[2025-04-30 09:43:19,325: INFO] stock table schema created successfully.
[2025-04-30 09:43:19,335: INFO] all_stock table schema created successfully.
[2025-04-30 09:43:19,335: INFO] Stock database schema initialized.
[2025-04-30 09:43:19,347: INFO] Users table verified.
[2025-04-30 09:43:19,357: INFO] Database schema created successfully.
[2025-04-30 09:43:19,367: INFO] Image database schema created successfully.
[2025-04-30 09:43:19,375: INFO] Database schema created successfully.
[2025-04-30 09:43:21,893: INFO] GroceryAnalyzer initialized
[2025-04-30 09:43:27,549: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 09:43:27,559: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 09:43:27,559: INFO] User logged in successfully
[2025-04-30 09:43:29,149: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:28:50,910: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:28:50,924: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:28:50,925: INFO] User logged in successfully
[2025-04-30 10:28:52,446: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:28:52,604: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:28:52,625: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:28:52,631: INFO] User logged in successfully
[2025-04-30 10:32:13,301: INFO] Logger initialized
[2025-04-30 10:32:13,301: ERROR] Error
[2025-04-30 10:32:13,301: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:32:13,301: WARNING] Warning
[2025-04-30 10:32:13,301: CRITICAL] Critical
[2025-04-30 10:32:20,729: INFO] Users table verified.
[2025-04-30 10:32:20,741: INFO] stockimages table schema created successfully.
[2025-04-30 10:32:20,749: INFO] stock table schema created successfully.
[2025-04-30 10:32:20,758: INFO] all_stock table schema created successfully.
[2025-04-30 10:32:20,758: INFO] Stock database schema initialized.
[2025-04-30 10:32:20,767: INFO] Users table verified.
[2025-04-30 10:32:20,775: INFO] Database schema created successfully.
[2025-04-30 10:32:20,782: INFO] Image database schema created successfully.
[2025-04-30 10:32:20,790: INFO] Database schema created successfully.
[2025-04-30 10:32:23,453: INFO] GroceryAnalyzer initialized
[2025-04-30 10:32:28,204: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:32:31,970: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:32:46,227: INFO] Logger initialized
[2025-04-30 10:32:46,227: ERROR] Error
[2025-04-30 10:32:46,227: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:32:46,227: WARNING] Warning
[2025-04-30 10:32:46,228: CRITICAL] Critical
[2025-04-30 10:32:53,001: INFO] Users table verified.
[2025-04-30 10:32:53,013: INFO] stockimages table schema created successfully.
[2025-04-30 10:32:53,022: INFO] stock table schema created successfully.
[2025-04-30 10:32:53,031: INFO] all_stock table schema created successfully.
[2025-04-30 10:32:53,031: INFO] Stock database schema initialized.
[2025-04-30 10:32:53,043: INFO] Users table verified.
[2025-04-30 10:32:53,052: INFO] Database schema created successfully.
[2025-04-30 10:32:53,060: INFO] Image database schema created successfully.
[2025-04-30 10:32:53,068: INFO] Database schema created successfully.
[2025-04-30 10:32:55,478: INFO] GroceryAnalyzer initialized
[2025-04-30 10:32:55,730: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:33:04,011: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:04,022: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:33:04,077: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:09,855: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 10:33:09,873: INFO] Fetched latest filename for user 8: None
[2025-04-30 10:33:09,873: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 10:33:11,593: DEBUG] Entering /chat route
[2025-04-30 10:33:11,594: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 10:33:11,597: DEBUG] Chat history: 0 messages
[2025-04-30 10:33:11,597: DEBUG] Handling GET request
[2025-04-30 10:33:13,715: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:13,724: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:33:13,766: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:15,346: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:33:16,784: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:16,796: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:33:16,852: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:33:20,451: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:34:27,283: INFO] Logger initialized
[2025-04-30 10:34:27,283: ERROR] Error
[2025-04-30 10:34:27,283: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:34:27,283: WARNING] Warning
[2025-04-30 10:34:27,283: CRITICAL] Critical
[2025-04-30 10:34:34,054: INFO] Users table verified.
[2025-04-30 10:34:34,065: INFO] stockimages table schema created successfully.
[2025-04-30 10:34:34,074: INFO] stock table schema created successfully.
[2025-04-30 10:34:34,082: INFO] all_stock table schema created successfully.
[2025-04-30 10:34:34,082: INFO] Stock database schema initialized.
[2025-04-30 10:34:34,093: INFO] Users table verified.
[2025-04-30 10:34:34,101: INFO] Database schema created successfully.
[2025-04-30 10:34:34,108: INFO] Image database schema created successfully.
[2025-04-30 10:34:34,116: INFO] Database schema created successfully.
[2025-04-30 10:34:36,683: INFO] GroceryAnalyzer initialized
[2025-04-30 10:34:40,306: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:34:40,315: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:34:40,315: INFO] User logged in successfully
[2025-04-30 10:34:41,816: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:34:45,445: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:34:45,455: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:34:45,500: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:34:47,230: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 10:34:47,243: INFO] Fetched latest filename for user 8: None
[2025-04-30 10:34:47,243: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 10:34:48,716: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:36:15,939: INFO] Logger initialized
[2025-04-30 10:36:15,939: ERROR] Error
[2025-04-30 10:36:15,939: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:36:15,939: WARNING] Warning
[2025-04-30 10:36:15,939: CRITICAL] Critical
[2025-04-30 10:36:22,667: INFO] Users table verified.
[2025-04-30 10:36:22,676: INFO] stockimages table schema created successfully.
[2025-04-30 10:36:22,686: INFO] stock table schema created successfully.
[2025-04-30 10:36:22,696: INFO] all_stock table schema created successfully.
[2025-04-30 10:36:22,696: INFO] Stock database schema initialized.
[2025-04-30 10:36:22,709: INFO] Users table verified.
[2025-04-30 10:36:22,717: INFO] Database schema created successfully.
[2025-04-30 10:36:22,725: INFO] Image database schema created successfully.
[2025-04-30 10:36:22,733: INFO] Database schema created successfully.
[2025-04-30 10:36:25,151: INFO] GroceryAnalyzer initialized
[2025-04-30 10:37:00,886: INFO] Logger initialized
[2025-04-30 10:37:00,886: ERROR] Error
[2025-04-30 10:37:00,886: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:37:00,886: WARNING] Warning
[2025-04-30 10:37:00,886: CRITICAL] Critical
[2025-04-30 10:37:06,062: INFO] Users table verified.
[2025-04-30 10:37:06,070: INFO] stockimages table schema created successfully.
[2025-04-30 10:37:06,078: INFO] stock table schema created successfully.
[2025-04-30 10:37:06,087: INFO] all_stock table schema created successfully.
[2025-04-30 10:37:06,088: INFO] Stock database schema initialized.
[2025-04-30 10:37:06,098: INFO] Users table verified.
[2025-04-30 10:37:06,106: INFO] Database schema created successfully.
[2025-04-30 10:37:06,114: INFO] Image database schema created successfully.
[2025-04-30 10:37:06,121: INFO] Database schema created successfully.
[2025-04-30 10:37:08,098: INFO] GroceryAnalyzer initialized
[2025-04-30 10:38:17,411: INFO] Logger initialized
[2025-04-30 10:38:17,411: ERROR] Error
[2025-04-30 10:38:17,411: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:38:17,411: WARNING] Warning
[2025-04-30 10:38:17,411: CRITICAL] Critical
[2025-04-30 10:38:23,094: INFO] Users table verified.
[2025-04-30 10:38:23,104: INFO] stockimages table schema created successfully.
[2025-04-30 10:38:23,111: INFO] stock table schema created successfully.
[2025-04-30 10:38:23,119: INFO] all_stock table schema created successfully.
[2025-04-30 10:38:23,119: INFO] Stock database schema initialized.
[2025-04-30 10:38:23,127: INFO] Users table verified.
[2025-04-30 10:38:23,134: INFO] Database schema created successfully.
[2025-04-30 10:38:23,143: INFO] Image database schema created successfully.
[2025-04-30 10:38:23,151: INFO] Database schema created successfully.
[2025-04-30 10:38:25,111: INFO] GroceryAnalyzer initialized
[2025-04-30 10:38:25,362: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:38:31,764: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:38:31,772: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:38:31,773: INFO] User logged in successfully
[2025-04-30 10:38:33,161: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:39:03,267: INFO] Logger initialized
[2025-04-30 10:39:03,267: ERROR] Error
[2025-04-30 10:39:03,267: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:39:03,267: WARNING] Warning
[2025-04-30 10:39:03,267: CRITICAL] Critical
[2025-04-30 10:39:09,892: INFO] Users table verified.
[2025-04-30 10:39:09,903: INFO] stockimages table schema created successfully.
[2025-04-30 10:39:09,910: INFO] stock table schema created successfully.
[2025-04-30 10:39:09,918: INFO] all_stock table schema created successfully.
[2025-04-30 10:39:09,918: INFO] Stock database schema initialized.
[2025-04-30 10:39:09,927: INFO] Users table verified.
[2025-04-30 10:39:09,935: INFO] Database schema created successfully.
[2025-04-30 10:39:09,942: INFO] Image database schema created successfully.
[2025-04-30 10:39:09,949: INFO] Database schema created successfully.
[2025-04-30 10:39:13,138: INFO] GroceryAnalyzer initialized
[2025-04-30 10:39:22,302: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:39:22,309: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:39:22,310: INFO] User logged in successfully
[2025-04-30 10:39:23,496: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:39:30,783: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:39:30,791: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:39:30,792: INFO] User logged in successfully
[2025-04-30 10:39:32,278: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:39:41,305: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:39:41,313: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:39:41,314: INFO] User logged in successfully
[2025-04-30 10:39:42,756: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:44:48,536: INFO] Logger initialized
[2025-04-30 10:44:48,536: ERROR] Error
[2025-04-30 10:44:48,536: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:44:48,536: WARNING] Warning
[2025-04-30 10:44:48,536: CRITICAL] Critical
[2025-04-30 10:44:55,449: INFO] Users table verified.
[2025-04-30 10:44:55,458: INFO] stockimages table schema created successfully.
[2025-04-30 10:44:55,466: INFO] stock table schema created successfully.
[2025-04-30 10:44:55,474: INFO] all_stock table schema created successfully.
[2025-04-30 10:44:55,475: INFO] Stock database schema initialized.
[2025-04-30 10:44:55,482: INFO] Users table verified.
[2025-04-30 10:44:55,490: INFO] Database schema created successfully.
[2025-04-30 10:44:55,498: INFO] Image database schema created successfully.
[2025-04-30 10:44:55,506: INFO] Database schema created successfully.
[2025-04-30 10:44:57,934: INFO] GroceryAnalyzer initialized
[2025-04-30 10:45:02,976: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:45:02,986: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:45:02,986: INFO] User logged in successfully
[2025-04-30 10:45:04,737: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:45:08,228: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:45:08,239: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:45:08,292: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 10:45:10,436: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:45:25,686: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:45:25,695: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:45:25,695: INFO] User logged in successfully
[2025-04-30 10:45:28,246: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:46:14,551: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:14,553: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:19,016: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:19,017: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:22,966: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:22,966: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:23,353: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:23,353: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:23,645: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:23,645: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:23,885: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:23,885: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:24,085: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:24,085: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:24,271: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:24,272: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:24,458: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:24,459: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:24,661: INFO] Authentication failed for email 'kingshahzy718@gmail.com'.
[2025-04-30 10:46:24,661: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:36,226: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:36,226: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:37,046: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:37,047: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:39,182: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:39,182: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:39,470: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:39,471: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:39,726: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:39,726: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:39,930: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:39,931: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:40,133: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:40,133: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:40,316: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:40,316: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:40,555: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:40,555: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:40,740: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:40,740: INFO] Login failed due to invalid credentials
[2025-04-30 10:46:40,964: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:46:40,964: INFO] Login failed due to invalid credentials
[2025-04-30 10:51:03,498: INFO] Logger initialized
[2025-04-30 10:51:03,498: ERROR] Error
[2025-04-30 10:51:03,498: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:51:03,498: WARNING] Warning
[2025-04-30 10:51:03,498: CRITICAL] Critical
[2025-04-30 10:51:10,263: INFO] Users table verified.
[2025-04-30 10:51:10,271: INFO] stockimages table schema created successfully.
[2025-04-30 10:51:10,278: INFO] stock table schema created successfully.
[2025-04-30 10:51:10,284: INFO] all_stock table schema created successfully.
[2025-04-30 10:51:10,285: INFO] Stock database schema initialized.
[2025-04-30 10:51:10,291: INFO] Users table verified.
[2025-04-30 10:51:10,298: INFO] Database schema created successfully.
[2025-04-30 10:51:10,305: INFO] Image database schema created successfully.
[2025-04-30 10:51:10,312: INFO] Database schema created successfully.
[2025-04-30 10:51:12,898: INFO] GroceryAnalyzer initialized
[2025-04-30 10:51:13,286: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:51:13,286: INFO] Login failed due to invalid credentials
[2025-04-30 10:51:14,131: INFO] Authentication failed for email 'kingshahzy7@gmail.com'.
[2025-04-30 10:51:14,131: INFO] Login failed due to invalid credentials
[2025-04-30 10:51:20,571: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:51:20,578: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:51:20,578: INFO] User logged in successfully
[2025-04-30 10:51:21,726: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:51:26,847: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:51:29,996: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:51:33,023: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:52:12,825: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:52:12,836: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:52:12,836: INFO] User logged in successfully
[2025-04-30 10:52:14,170: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:52:25,709: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:52:25,718: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:52:25,718: INFO] User logged in successfully
[2025-04-30 10:52:27,177: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:52:40,336: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 10:52:40,336: INFO] Login failed due to invalid credentials
[2025-04-30 10:52:48,288: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:52:48,295: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:52:48,296: INFO] User logged in successfully
[2025-04-30 10:52:49,804: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:53:00,101: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:53:00,109: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:53:00,110: INFO] User logged in successfully
[2025-04-30 10:53:01,631: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:53:01,805: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:53:01,827: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:53:01,828: INFO] User logged in successfully
[2025-04-30 10:53:10,626: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:53:10,634: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:53:10,635: INFO] User logged in successfully
[2025-04-30 10:53:11,783: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:53:11,945: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:53:11,971: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:53:11,972: INFO] User logged in successfully
[2025-04-30 10:53:28,894: INFO] Logger initialized
[2025-04-30 10:53:28,895: ERROR] Error
[2025-04-30 10:53:28,895: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 10:53:28,895: WARNING] Warning
[2025-04-30 10:53:28,895: CRITICAL] Critical
[2025-04-30 10:53:35,885: INFO] Users table verified.
[2025-04-30 10:53:35,894: INFO] stockimages table schema created successfully.
[2025-04-30 10:53:35,903: INFO] stock table schema created successfully.
[2025-04-30 10:53:35,911: INFO] all_stock table schema created successfully.
[2025-04-30 10:53:35,911: INFO] Stock database schema initialized.
[2025-04-30 10:53:35,920: INFO] Users table verified.
[2025-04-30 10:53:35,927: INFO] Database schema created successfully.
[2025-04-30 10:53:35,934: INFO] Image database schema created successfully.
[2025-04-30 10:53:35,942: INFO] Database schema created successfully.
[2025-04-30 10:53:38,500: INFO] GroceryAnalyzer initialized
[2025-04-30 10:53:45,957: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 10:53:45,966: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 10:53:45,966: INFO] User logged in successfully
[2025-04-30 10:53:47,261: INFO] User with ID '8' fetched successfully.
[2025-04-30 10:54:00,386: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 10:54:00,388: INFO] Login failed due to invalid credentials
[2025-04-30 10:54:03,122: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 10:54:03,122: INFO] Login failed due to invalid credentials
[2025-04-30 10:54:05,145: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 10:54:05,146: INFO] Login failed due to invalid credentials
[2025-04-30 10:54:09,731: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 10:54:09,732: INFO] Login failed due to invalid credentials
[2025-04-30 11:00:52,212: INFO] Logger initialized
[2025-04-30 11:00:52,212: ERROR] Error
[2025-04-30 11:00:52,212: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:00:52,212: WARNING] Warning
[2025-04-30 11:00:52,213: CRITICAL] Critical
[2025-04-30 11:00:59,226: INFO] Users table verified.
[2025-04-30 11:00:59,249: INFO] stockimages table schema created successfully.
[2025-04-30 11:00:59,293: INFO] stock table schema created successfully.
[2025-04-30 11:00:59,301: INFO] all_stock table schema created successfully.
[2025-04-30 11:00:59,301: INFO] Stock database schema initialized.
[2025-04-30 11:00:59,308: INFO] Users table verified.
[2025-04-30 11:00:59,317: INFO] Database schema created successfully.
[2025-04-30 11:00:59,324: INFO] Image database schema created successfully.
[2025-04-30 11:00:59,331: INFO] Database schema created successfully.
[2025-04-30 11:01:02,001: INFO] GroceryAnalyzer initialized
[2025-04-30 11:01:02,399: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:02,399: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:03,489: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:03,489: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:03,938: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:03,939: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:04,608: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:04,609: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:04,862: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:04,862: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:05,098: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:05,099: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:05,304: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:05,304: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:05,505: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:05,505: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:05,691: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:05,692: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:05,878: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:05,879: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:06,065: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:06,065: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:06,268: INFO] Authentication failed for email 'kingshahzy71@gmail.com'.
[2025-04-30 11:01:06,268: INFO] Login failed due to invalid credentials
[2025-04-30 11:01:10,117: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:10,125: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:10,126: INFO] User logged in successfully
[2025-04-30 11:01:11,455: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:12,259: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:12,267: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:12,267: INFO] User logged in successfully
[2025-04-30 11:01:13,742: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:13,959: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:13,968: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:13,968: INFO] User logged in successfully
[2025-04-30 11:01:15,221: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:15,626: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:15,634: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:15,635: INFO] User logged in successfully
[2025-04-30 11:01:16,834: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:16,985: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:16,995: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:16,995: INFO] User logged in successfully
[2025-04-30 11:01:18,380: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:20,756: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:20,764: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:20,764: INFO] User logged in successfully
[2025-04-30 11:01:22,083: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:22,222: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:22,229: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:22,229: INFO] User logged in successfully
[2025-04-30 11:01:23,648: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:23,788: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:01:23,797: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:01:23,799: INFO] User logged in successfully
[2025-04-30 11:01:25,154: ERROR] Login error: unexpected '{' in field name
[2025-04-30 11:01:30,243: INFO] Logger initialized
[2025-04-30 11:01:30,243: ERROR] Error
[2025-04-30 11:01:30,243: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:01:30,244: WARNING] Warning
[2025-04-30 11:01:30,244: CRITICAL] Critical
[2025-04-30 11:01:36,752: INFO] Users table verified.
[2025-04-30 11:01:36,760: INFO] stockimages table schema created successfully.
[2025-04-30 11:01:36,768: INFO] stock table schema created successfully.
[2025-04-30 11:01:36,776: INFO] all_stock table schema created successfully.
[2025-04-30 11:01:36,776: INFO] Stock database schema initialized.
[2025-04-30 11:01:36,783: INFO] Users table verified.
[2025-04-30 11:01:36,792: INFO] Database schema created successfully.
[2025-04-30 11:01:36,799: INFO] Image database schema created successfully.
[2025-04-30 11:01:36,806: INFO] Database schema created successfully.
[2025-04-30 11:01:40,226: INFO] GroceryAnalyzer initialized
[2025-04-30 11:03:03,662: INFO] Logger initialized
[2025-04-30 11:03:03,662: ERROR] Error
[2025-04-30 11:03:03,662: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:03:03,662: WARNING] Warning
[2025-04-30 11:03:03,662: CRITICAL] Critical
[2025-04-30 11:03:10,677: INFO] Users table verified.
[2025-04-30 11:03:10,685: INFO] stockimages table schema created successfully.
[2025-04-30 11:03:10,694: INFO] stock table schema created successfully.
[2025-04-30 11:03:10,701: INFO] all_stock table schema created successfully.
[2025-04-30 11:03:10,701: INFO] Stock database schema initialized.
[2025-04-30 11:03:10,708: INFO] Users table verified.
[2025-04-30 11:03:10,716: INFO] Database schema created successfully.
[2025-04-30 11:03:10,723: INFO] Image database schema created successfully.
[2025-04-30 11:03:10,731: INFO] Database schema created successfully.
[2025-04-30 11:03:13,626: INFO] GroceryAnalyzer initialized
[2025-04-30 11:03:14,134: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:03:14,142: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:03:14,142: INFO] User logged in successfully
[2025-04-30 11:03:15,576: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:03:15,760: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:03:15,769: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:03:15,769: INFO] User logged in successfully
[2025-04-30 11:05:54,506: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:05:54,516: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:05:54,517: INFO] User logged in successfully
[2025-04-30 11:05:56,051: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:06:04,675: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:06:04,684: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:06:04,684: INFO] User logged in successfully
[2025-04-30 11:06:06,180: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:06:06,377: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:06:06,387: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:06:06,388: INFO] User logged in successfully
[2025-04-30 11:06:45,823: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:06:45,832: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:06:45,832: INFO] User logged in successfully
[2025-04-30 11:06:47,339: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:06:53,912: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:06:56,535: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:06:56,544: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:06:56,592: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:06:58,254: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:06:58,264: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:06:58,265: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:07:05,142: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:07:05,151: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:07:05,151: INFO] User logged in successfully
[2025-04-30 11:07:06,489: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:10:26,025: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:10:26,035: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:10:26,036: INFO] User logged in successfully
[2025-04-30 11:10:27,797: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:10:28,007: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:10:28,047: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:10:28,048: INFO] User logged in successfully
[2025-04-30 11:10:35,096: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:10:36,967: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:10:36,976: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:10:37,013: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:10:38,317: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:10:38,328: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:10:38,329: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:10:39,418: DEBUG] Entering /chat route
[2025-04-30 11:10:39,418: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:10:39,419: DEBUG] Chat history: 0 messages
[2025-04-30 11:10:39,420: DEBUG] Handling GET request
[2025-04-30 11:14:08,935: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:14:08,945: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:14:08,945: INFO] User logged in successfully
[2025-04-30 11:14:10,519: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:14:14,266: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:14:15,832: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:16:53,718: INFO] Logger initialized
[2025-04-30 11:16:53,719: ERROR] Error
[2025-04-30 11:16:53,719: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:16:53,719: WARNING] Warning
[2025-04-30 11:16:53,719: CRITICAL] Critical
[2025-04-30 11:17:00,738: INFO] Users table verified.
[2025-04-30 11:17:00,748: INFO] stockimages table schema created successfully.
[2025-04-30 11:17:00,757: INFO] stock table schema created successfully.
[2025-04-30 11:17:00,765: INFO] all_stock table schema created successfully.
[2025-04-30 11:17:00,765: INFO] Stock database schema initialized.
[2025-04-30 11:17:00,773: INFO] Users table verified.
[2025-04-30 11:17:00,780: INFO] Database schema created successfully.
[2025-04-30 11:17:00,788: INFO] Image database schema created successfully.
[2025-04-30 11:17:00,795: INFO] Database schema created successfully.
[2025-04-30 11:17:03,574: INFO] GroceryAnalyzer initialized
[2025-04-30 11:17:24,957: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:17:24,967: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:17:24,968: INFO] User logged in successfully
[2025-04-30 11:17:26,123: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:17:29,759: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:17:29,770: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:17:29,821: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:17:31,364: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:17:37,249: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:17:37,258: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:17:37,259: INFO] User logged in successfully
[2025-04-30 11:17:38,593: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:31,453: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:20:31,463: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:20:31,464: INFO] User logged in successfully
[2025-04-30 11:20:32,675: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:34,682: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:37,007: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:20:37,016: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:37,058: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:20:46,059: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:20:46,067: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:20:46,068: INFO] User logged in successfully
[2025-04-30 11:20:47,631: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:47,862: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:20:47,879: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:20:47,880: INFO] User logged in successfully
[2025-04-30 11:20:52,103: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:55,897: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:20:55,907: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:20:55,941: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:20:58,044: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:21:07,079: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:07,081: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:10,250: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:10,250: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:10,742: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:10,742: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:11,058: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:11,058: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:11,314: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:11,314: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:11,949: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:11,949: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:12,153: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:12,154: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:12,292: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:12,292: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:12,591: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:12,592: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:12,732: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:12,732: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:12,897: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:12,897: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:13,018: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:13,019: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:13,180: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:13,181: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:17,965: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:21:17,966: INFO] Login failed due to invalid credentials
[2025-04-30 11:21:21,907: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:21:21,914: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:21:21,915: INFO] User logged in successfully
[2025-04-30 11:21:23,137: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:21:23,321: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:21:23,330: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:21:23,330: INFO] User logged in successfully
[2025-04-30 11:30:29,191: INFO] Logger initialized
[2025-04-30 11:30:29,192: ERROR] Error
[2025-04-30 11:30:29,193: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:30:29,193: WARNING] Warning
[2025-04-30 11:30:29,193: CRITICAL] Critical
[2025-04-30 11:30:38,648: INFO] Users table verified.
[2025-04-30 11:30:38,657: INFO] stockimages table schema created successfully.
[2025-04-30 11:30:38,663: INFO] stock table schema created successfully.
[2025-04-30 11:30:38,671: INFO] all_stock table schema created successfully.
[2025-04-30 11:30:38,671: INFO] Stock database schema initialized.
[2025-04-30 11:30:38,678: INFO] Users table verified.
[2025-04-30 11:30:38,684: INFO] Database schema created successfully.
[2025-04-30 11:30:38,690: INFO] Image database schema created successfully.
[2025-04-30 11:30:38,697: INFO] Database schema created successfully.
[2025-04-30 11:30:41,749: INFO] GroceryAnalyzer initialized
[2025-04-30 11:30:45,016: INFO] Logger initialized
[2025-04-30 11:30:45,017: ERROR] Error
[2025-04-30 11:30:45,017: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:30:45,017: WARNING] Warning
[2025-04-30 11:30:45,017: CRITICAL] Critical
[2025-04-30 11:30:52,002: INFO] Users table verified.
[2025-04-30 11:30:52,010: INFO] stockimages table schema created successfully.
[2025-04-30 11:30:52,017: INFO] stock table schema created successfully.
[2025-04-30 11:30:52,024: INFO] all_stock table schema created successfully.
[2025-04-30 11:30:52,024: INFO] Stock database schema initialized.
[2025-04-30 11:30:52,034: INFO] Users table verified.
[2025-04-30 11:30:52,043: INFO] Database schema created successfully.
[2025-04-30 11:30:52,050: INFO] Image database schema created successfully.
[2025-04-30 11:30:52,057: INFO] Database schema created successfully.
[2025-04-30 11:30:54,609: INFO] GroceryAnalyzer initialized
[2025-04-30 11:40:24,702: INFO] Logger initialized
[2025-04-30 11:40:24,702: ERROR] Error
[2025-04-30 11:40:24,702: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 11:40:24,702: WARNING] Warning
[2025-04-30 11:40:24,702: CRITICAL] Critical
[2025-04-30 11:40:31,606: INFO] Users table verified.
[2025-04-30 11:40:31,615: INFO] stockimages table schema created successfully.
[2025-04-30 11:40:31,624: INFO] stock table schema created successfully.
[2025-04-30 11:40:31,632: INFO] all_stock table schema created successfully.
[2025-04-30 11:40:31,632: INFO] Stock database schema initialized.
[2025-04-30 11:40:31,641: INFO] Users table verified.
[2025-04-30 11:40:31,650: INFO] Database schema created successfully.
[2025-04-30 11:40:31,657: INFO] Image database schema created successfully.
[2025-04-30 11:40:31,666: INFO] Database schema created successfully.
[2025-04-30 11:40:34,124: INFO] GroceryAnalyzer initialized
[2025-04-30 11:40:37,736: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:40:37,745: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:40:37,745: INFO] User logged in successfully
[2025-04-30 11:40:39,444: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:40:54,580: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:40:54,590: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:40:54,591: INFO] User logged in successfully
[2025-04-30 11:40:56,021: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:41:12,528: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:41:17,070: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:41:23,903: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:41:23,912: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:41:23,913: INFO] User logged in successfully
[2025-04-30 11:41:25,295: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:41:42,561: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:41:42,571: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:41:42,572: INFO] User logged in successfully
[2025-04-30 11:41:43,952: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:42:01,539: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:42:01,547: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:42:01,548: INFO] User logged in successfully
[2025-04-30 11:42:02,873: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:42:04,901: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:42:23,493: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:24,700: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:25,071: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:25,624: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:25,822: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:26,024: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:26,236: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:26,377: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:26,562: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:26,713: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 11:42:33,633: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:42:33,641: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:42:33,641: INFO] User logged in successfully
[2025-04-30 11:42:34,882: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:00,492: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:43:00,499: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:43:00,499: INFO] User logged in successfully
[2025-04-30 11:43:01,875: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:02,161: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:43:02,174: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:43:02,175: INFO] User logged in successfully
[2025-04-30 11:43:04,100: DEBUG] Entering /chat route
[2025-04-30 11:43:04,101: DEBUG] Session data: <SecureCookieSession {'_flashes': [('success', 'Login successful!'), ('success', 'Login successful!')], 'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:43:04,102: DEBUG] Chat history: 0 messages
[2025-04-30 11:43:04,102: DEBUG] Handling GET request
[2025-04-30 11:43:07,394: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:43:07,405: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:43:07,405: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:43:09,068: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:09,076: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:09,119: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:10,435: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:12,329: DEBUG] Entering /chat route
[2025-04-30 11:43:12,330: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:43:12,333: DEBUG] Chat history: 0 messages
[2025-04-30 11:43:12,334: DEBUG] Handling GET request
[2025-04-30 11:43:14,257: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:43:14,267: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:43:14,267: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:43:15,301: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:15,318: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:15,385: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:16,611: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:18,628: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:18,636: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:18,675: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:25,771: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:43:25,779: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:43:25,780: INFO] User logged in successfully
[2025-04-30 11:43:27,395: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:29,389: DEBUG] Entering /chat route
[2025-04-30 11:43:29,389: DEBUG] Session data: <SecureCookieSession {'_flashes': [('success', 'Login successful!')], 'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:43:29,390: DEBUG] Chat history: 0 messages
[2025-04-30 11:43:29,390: DEBUG] Handling GET request
[2025-04-30 11:43:31,350: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:43:31,361: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:43:31,362: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:43:32,690: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:32,701: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:43:32,739: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:43:34,199: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:51:38,816: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 11:51:38,826: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 11:51:38,827: INFO] User logged in successfully
[2025-04-30 11:51:40,334: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:51:43,233: DEBUG] Entering /chat route
[2025-04-30 11:51:43,234: DEBUG] Session data: <SecureCookieSession {'_flashes': [('success', 'Login successful!')], 'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:51:43,235: DEBUG] Chat history: 0 messages
[2025-04-30 11:51:43,236: DEBUG] Handling GET request
[2025-04-30 11:51:57,482: DEBUG] Entering /chat route
[2025-04-30 11:51:57,482: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:51:57,484: DEBUG] Chat history: 0 messages
[2025-04-30 11:51:57,484: DEBUG] Handling GET request
[2025-04-30 11:52:00,704: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:52:58,473: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:53:01,535: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:53:01,547: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:53:01,590: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:53:02,836: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:53:02,845: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:53:02,845: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:53:04,229: DEBUG] Entering /chat route
[2025-04-30 11:53:04,229: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 11:53:04,230: DEBUG] Chat history: 0 messages
[2025-04-30 11:53:04,230: DEBUG] Handling GET request
[2025-04-30 11:53:06,397: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:53:53,191: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:53:53,202: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:53:53,243: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:53:58,507: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:55:07,687: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:55:18,819: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 11:55:18,829: INFO] Fetched latest filename for user 8: None
[2025-04-30 11:55:18,829: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 11:55:20,947: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:55:20,956: INFO] User with ID '8' fetched successfully.
[2025-04-30 11:55:20,988: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 11:55:22,190: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:00:55,744: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:00:59,984: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 12:00:59,993: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 12:00:59,993: INFO] User logged in successfully
[2025-04-30 12:01:01,700: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:02:35,190: INFO] Logger initialized
[2025-04-30 12:02:35,190: ERROR] Error
[2025-04-30 12:02:35,190: DEBUG] Debug (won't appear unless logger level is set to DEBUG)
[2025-04-30 12:02:35,190: WARNING] Warning
[2025-04-30 12:02:35,190: CRITICAL] Critical
[2025-04-30 12:02:41,977: INFO] Users table verified.
[2025-04-30 12:02:41,986: INFO] stockimages table schema created successfully.
[2025-04-30 12:02:41,994: INFO] stock table schema created successfully.
[2025-04-30 12:02:42,001: INFO] all_stock table schema created successfully.
[2025-04-30 12:02:42,001: INFO] Stock database schema initialized.
[2025-04-30 12:02:42,008: INFO] Users table verified.
[2025-04-30 12:02:42,015: INFO] Database schema created successfully.
[2025-04-30 12:02:42,021: INFO] Image database schema created successfully.
[2025-04-30 12:02:42,029: INFO] Database schema created successfully.
[2025-04-30 12:02:44,650: INFO] GroceryAnalyzer initialized
[2025-04-30 12:02:44,991: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:45,775: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:46,399: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:46,754: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:47,038: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:47,327: INFO] Authentication failed for email 'kingshahzy78@gmail.com'.
[2025-04-30 12:02:59,892: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 12:02:59,900: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 12:02:59,901: INFO] User logged in successfully
[2025-04-30 12:03:01,514: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:03:01,813: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 12:03:01,823: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 12:03:01,824: INFO] User logged in successfully
[2025-04-30 12:03:44,109: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 12:03:44,117: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 12:03:44,117: INFO] User logged in successfully
[2025-04-30 12:03:45,637: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:03:57,628: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:04:01,742: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:01,755: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:04:01,815: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:08,076: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:08,086: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:04:08,113: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:09,862: DEBUG] Entering /chat route
[2025-04-30 12:04:09,862: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '8ca17fc0a0f80d3640815ddeffab66f88544fc1e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 12:04:09,863: DEBUG] Chat history: 0 messages
[2025-04-30 12:04:09,863: DEBUG] Handling GET request
[2025-04-30 12:04:11,536: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:11,544: INFO] User with ID '8' fetched successfully.
[2025-04-30 12:04:11,576: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 12:04:12,646: INFO] User with ID '8' fetched successfully.
[2025-04-30 20:59:40,621: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-04-30 20:59:40,641: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-04-30 20:59:40,641: INFO] User logged in successfully
[2025-04-30 20:59:42,692: INFO] User with ID '8' fetched successfully.
[2025-04-30 20:59:57,732: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 20:59:57,744: INFO] User with ID '8' fetched successfully.
[2025-04-30 20:59:57,780: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 21:00:01,127: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:02:20,991: DEBUG] Latest filename: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 21:02:21,004: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:02:21,042: INFO] Serving image: 107087fca5644a5c96d64b8509dfb689.jpg
[2025-04-30 21:02:22,028: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:18,169: INFO] Receipt 53 deleted successfully for user_id 8 (items: 3, images: 1).
[2025-04-30 21:04:18,197: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:23,350: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:33,827: INFO] Receipt 52 deleted successfully for user_id 8 (items: 2, images: 1).
[2025-04-30 21:04:33,897: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:37,386: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:39,229: DEBUG] Latest filename: None
[2025-04-30 21:04:39,239: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:04:43,051: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:12:15,500: DEBUG] Latest filename: None
[2025-04-30 21:12:15,512: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:12:23,004: DEBUG] Saved file: /Users/brighttenkorangofori/Desktop/projects/GROCERY_ASSISTANT/src/uploads/b5efd6bf9d9c4edd9ab9590ccead8b3c.jpg, exists: True
[2025-04-30 21:12:23,005: INFO] Receipt image read successfully.
[2025-04-30 21:12:32,647: INFO] Processed item: name='BREAD' quantity=1 weight=1.0 category='bakery' price=2.88 purchase_date='2011-11-06' expiration_date='2011-11-13'
[2025-04-30 21:12:32,648: INFO] Processed item: name='BREAD' quantity=1 weight=1.0 category='bakery' price=2.88 purchase_date='2011-11-06' expiration_date='2011-11-13'
[2025-04-30 21:12:32,648: INFO] Processed item: name='GV PNT BUTTR' quantity=1 weight=1.0 category='dairy' price=3.84 purchase_date='2011-11-06' expiration_date='2011-11-20'
[2025-04-30 21:12:32,648: INFO] Processed item: name='GV PNT BUTTR' quantity=1 weight=1.0 category='dairy' price=3.84 purchase_date='2011-11-06' expiration_date='2011-11-20'
[2025-04-30 21:12:32,648: INFO] Processed item: name='GV PNT BUTTR' quantity=1 weight=1.0 category='dairy' price=3.84 purchase_date='2011-11-06' expiration_date='2011-11-20'
[2025-04-30 21:12:32,648: INFO] Processed item: name='GV PNT BUTTR' quantity=1 weight=1.0 category='dairy' price=3.84 purchase_date='2011-11-06' expiration_date='2011-11-20'
[2025-04-30 21:12:32,649: INFO] Processed item: name='GV PARM 16OZ' quantity=1 weight=16.0 category='dairy' price=4.98 purchase_date='2011-11-06' expiration_date='2012-05-06'
[2025-04-30 21:12:32,649: INFO] Processed item: name='GV CHNK CHKN' quantity=1 weight=1.0 category='meat' price=1.98 purchase_date='2011-11-06' expiration_date='2011-11-13'
[2025-04-30 21:12:32,649: INFO] Processed item: name='GV CHNK CHKN' quantity=1 weight=1.0 category='meat' price=1.98 purchase_date='2011-11-06' expiration_date='2011-11-13'
[2025-04-30 21:12:32,649: INFO] Processed item: name='12 CT NITRIL' quantity=12 weight=1.0 category='other' price=2.78 purchase_date='2011-11-06' expiration_date='2012-11-06'
[2025-04-30 21:12:32,649: INFO] Processed item: name='FOLGERS' quantity=1 weight=1.0 category='grocery' price=10.48 purchase_date='2011-11-06' expiration_date='2012-05-06'
[2025-04-30 21:12:32,649: INFO] Processed item: name='SC TWIST UP' quantity=1 weight=1.0 category='grocery' price=0.84 purchase_date='2011-11-06' expiration_date='2012-05-06'
[2025-04-30 21:12:32,649: INFO] Processed item: name='EGGS' quantity=1 weight=1.0 category='dairy' price=1.88 purchase_date='2011-11-06' expiration_date='2011-11-20'
[2025-04-30 21:12:32,666: INFO] Saved 13 items to receipts linked to receipt ID: 54
[2025-04-30 21:12:32,674: INFO] Saved image path to database: b5efd6bf9d9c4edd9ab9590ccead8b3c.jpg linked to receipt ID: 54
[2025-04-30 21:12:32,674: INFO] Processed 13 receipt items
[2025-04-30 21:12:32,703: INFO] Serving image: b5efd6bf9d9c4edd9ab9590ccead8b3c.jpg
[2025-04-30 21:12:36,029: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:12:44,809: INFO] Receipt 54 deleted successfully for user_id 8 (items: 13, images: 1).
[2025-04-30 21:12:44,833: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:17:32,931: INFO] User with ID '8' fetched successfully.
[2025-04-30 21:17:32,996: INFO] Serving image: b5efd6bf9d9c4edd9ab9590ccead8b3c.jpg
[2025-04-30 21:17:34,115: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-04-30 21:17:34,126: INFO] Fetched latest filename for user 8: None
[2025-04-30 21:17:34,126: DEBUG] Stock: Rendering stock.html with filename=None
[2025-04-30 21:17:36,504: DEBUG] Entering /chat route
[2025-04-30 21:17:36,505: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '30355690e5112c12f7aef741ffe66441f74e1b2e', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'last_receipt_file': 'b5efd6bf9d9c4edd9ab9590ccead8b3c.jpg', 'last_receipt_id': 54, 'receipt_items': [{'category': 'bakery', 'expiration_date': '2011-11-13', 'name': 'BREAD', 'price': 2.88, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'bakery', 'expiration_date': '2011-11-13', 'name': 'BREAD', 'price': 2.88, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2011-11-20', 'name': 'GV PNT BUTTR', 'price': 3.84, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2011-11-20', 'name': 'GV PNT BUTTR', 'price': 3.84, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2011-11-20', 'name': 'GV PNT BUTTR', 'price': 3.84, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2011-11-20', 'name': 'GV PNT BUTTR', 'price': 3.84, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2012-05-06', 'name': 'GV PARM 16OZ', 'price': 4.98, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 16.0}, {'category': 'meat', 'expiration_date': '2011-11-13', 'name': 'GV CHNK CHKN', 'price': 1.98, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'meat', 'expiration_date': '2011-11-13', 'name': 'GV CHNK CHKN', 'price': 1.98, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'other', 'expiration_date': '2012-11-06', 'name': '12 CT NITRIL', 'price': 2.78, 'purchase_date': '2011-11-06', 'quantity': 12, 'weight': 1.0}, {'category': 'grocery', 'expiration_date': '2012-05-06', 'name': 'FOLGERS', 'price': 10.48, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'grocery', 'expiration_date': '2012-05-06', 'name': 'SC TWIST UP', 'price': 0.84, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}, {'category': 'dairy', 'expiration_date': '2011-11-20', 'name': 'EGGS', 'price': 1.88, 'purchase_date': '2011-11-06', 'quantity': 1, 'weight': 1.0}], 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-04-30 21:17:36,507: DEBUG] Chat history: 0 messages
[2025-04-30 21:17:36,507: DEBUG] Handling GET request
[2025-04-30 21:17:38,615: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:02,152: INFO] User with email 'kingshahzy718@gmail.com' authenticated successfully.
[2025-05-01 06:42:02,250: INFO] User with email 'kingshahzy718@gmail.com' fetched successfully.
[2025-05-01 06:42:02,251: INFO] User logged in successfully
[2025-05-01 06:42:04,554: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:10,076: DEBUG] Latest filename: None
[2025-05-01 06:42:10,085: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:13,477: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-05-01 06:42:13,489: INFO] Fetched latest filename for user 8: None
[2025-05-01 06:42:13,489: DEBUG] Stock: Rendering stock.html with filename=None
[2025-05-01 06:42:15,738: DEBUG] Entering /chat route
[2025-05-01 06:42:15,739: DEBUG] Session data: <SecureCookieSession {'age': None, 'allergies': 'seafood', 'csrf_token': '79fbeeedc1e09a83b3019d0cd3c76b3b7d585e40', 'email': 'kingshahzy718@gmail.com', 'extra_info': 'asthma', 'first_name': None, 'gluten': 1, 'last_name': None, 'user_id': 8, 'username': 'kingshahzy', 'vegan': 1}>
[2025-05-01 06:42:15,740: DEBUG] Chat history: 0 messages
[2025-05-01 06:42:15,741: DEBUG] Handling GET request
[2025-05-01 06:42:17,002: INFO] Fetched 0 items for user 8 with stock_id None.
[2025-05-01 06:42:17,017: INFO] Fetched latest filename for user 8: None
[2025-05-01 06:42:17,017: DEBUG] Stock: Rendering stock.html with filename=None
[2025-05-01 06:42:17,822: DEBUG] Latest filename: None
[2025-05-01 06:42:17,835: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:18,690: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:44,198: DEBUG] Latest filename: None
[2025-05-01 06:42:44,209: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:42:49,152: INFO] User with ID '8' fetched successfully.
[2025-05-01 06:43:01,764: DEBUG] Latest filename: None
[2025-05-01 06:43:01,777: INFO] User with ID '8' fetched successfully.
